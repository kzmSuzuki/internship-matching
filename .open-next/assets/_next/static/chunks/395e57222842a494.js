(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return o},urlQueryToSearchParams:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function o(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,i(e));else t.set(r,i(n));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return s},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,n=e.protocol||"",a=e.pathname||"",s=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(o.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||i.test(n))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),s&&"#"!==s[0]&&(s="#"+s),c&&"?"!==c[0]&&(c="?"+c),a=a.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${u}${a}${c}${s}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return s(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(71645);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=o(e,n)),t&&(a.current=o(t,n))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return v},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return p},ST:function(){return g},WEB_VITALS:function(){return o},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return j}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function u(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&f(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let p="u">typeof performance,g=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return o}});let n=e.r(18967),a=e.r(52817);function o(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return y},useLinkStatus:function(){return b}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=e.r(90809),i=e.r(43476),s=o._(e.r(71645)),l=e.r(95057),u=e.r(8372),c=e.r(18581),d=e.r(18967),f=e.r(5550);e.r(33525);let h=e.r(91949),m=e.r(73668),p=e.r(9396);function g(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function y(t){var r;let n,a,o,[l,y]=(0,s.useOptimistic)(h.IDLE_LINK_STATUS),b=(0,s.useRef)(null),{href:v,as:w,children:j,prefetch:M=null,passHref:N,replace:P,shallow:S,scroll:k,onClick:_,onMouseEnter:D,onTouchStart:E,legacyBehavior:A=!1,onNavigate:O,ref:T,unstable_dynamicOnHover:C,...F}=t;n=j,A&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let L=s.default.useContext(u.AppRouterContext),W=!1!==M,z=!1!==M?null===(r=M)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:R,as:I}=s.default.useMemo(()=>{let e=g(v);return{href:e,as:w?g(w):e}},[v,w]);if(A){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=s.default.Children.only(n)}let $=A?a&&"object"==typeof a&&a.ref:T,B=s.default.useCallback(e=>(null!==L&&(b.current=(0,h.mountLinkInstance)(e,R,L,z,W,y)),()=>{b.current&&((0,h.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,h.unmountPrefetchableInstance)(e)}),[W,R,L,z,y]),X={ref:(0,c.useMergedRef)(B,$),onClick(t){A||"function"!=typeof _||_(t),A&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!L||t.defaultPrevented||function(t,r,n,a,o,i,l){if("u">typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){o&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);s.default.startTransition(()=>{d(n||r,o?"replace":"push",i??!0,a.current)})}}(t,R,I,b,P,k,O)},onMouseEnter(e){A||"function"!=typeof D||D(e),A&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),L&&W&&(0,h.onNavigationIntent)(e.currentTarget,!0===C)},onTouchStart:function(e){A||"function"!=typeof E||E(e),A&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),L&&W&&(0,h.onNavigationIntent)(e.currentTarget,!0===C)}};return(0,d.isAbsoluteUrl)(I)?X.href=I:A&&!N&&("a"!==a.type||"href"in a.props)||(X.href=(0,f.addBasePath)(I)),o=A?s.default.cloneElement(a,X):(0,i.jsx)("a",{...F,...X,children:n}),(0,i.jsx)(x.Provider,{value:l,children:o})}e.r(84508);let x=(0,s.createContext)(h.IDLE_LINK_STATUS),b=()=>(0,s.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},63727,e=>{"use strict";let t=(0,e.i(75254).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>t],63727)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},92270,e=>{"use strict";let t=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>t],92270)},69969,e=>{"use strict";var t=e.i(43476),r=e.i(932),n=e.i(22016),a=e.i(18566),o=e.i(75157),i=e.i(75254);let s=(0,i.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),l=(0,i.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var u=e.i(63727),c=e.i(78583);let d=(0,i.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),f=(0,i.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=e.i(92270);let m=[{icon:s,label:"ホーム",href:"/"},{icon:l,label:"求人検索",href:"/student/jobs"},{icon:u.Briefcase,label:"企業求人",href:"/company/jobs"},{icon:c.FileText,label:"応募管理",href:"/student/applications"},{icon:d,label:"プロフィール",href:"/student/profile"},{icon:f,label:"設定",href:"/settings"}];function p(){let e,i,s,l,u,c=(0,r.c)(8),d=(0,a.usePathname)();return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"mb-8 p-2 rounded-xl bg-[#161B33]/10",children:(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#161B33]"})}),c[0]=e):e=c[0],c[1]!==d?(i=m.map(e=>{let r=d===e.href;return(0,t.jsxs)(n.default,{href:e.href,className:(0,o.cn)("relative group flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-200",r?"bg-[#161B33] text-white shadow-md shadow-[#161B33]/20":"text-gray-500 hover:bg-[#161B33]/10 hover:text-[#161B33]"),children:[(0,t.jsx)(e.icon,{size:22,strokeWidth:r?2.5:2}),(0,t.jsx)("span",{className:"absolute left-14 px-2 py-1 bg-[#1E3A5F] text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all whitespace-nowrap z-50",children:e.label})]},e.href)}),c[1]=d,c[2]=i):i=c[2],c[3]!==i?(s=(0,t.jsx)("nav",{className:"flex-1 flex flex-col gap-4 w-full px-2",children:i}),c[3]=i,c[4]=s):s=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("button",{className:"mt-auto p-3 text-gray-500 hover:text-[#F56565] hover:bg-[#F56565]/10 rounded-xl transition-all",children:(0,t.jsx)(h.LogOut,{size:22})}),c[5]=l):l=c[5],c[6]!==s?(u=(0,t.jsxs)("aside",{className:"fixed left-4 top-4 z-40 h-[calc(100vh-2rem)] w-18 glass rounded-2xl border-r-0 flex flex-col items-center py-6 transition-all duration-300",children:[e,s,l]}),c[6]=s,c[7]=u):u=c[7],u}var g=e.i(57951),y=e.i(59141);e.i(36180);var x=e.i(98925),b=e.i(71645);let v=new class{async markAsRead(e){let t=(0,x.doc)(y.db,"notifications",e);await (0,x.updateDoc)(t,{read:!0,updatedAt:(0,x.serverTimestamp)()})}async markAllAsRead(e){let t=(0,x.query)((0,x.collection)(y.db,"notifications"),(0,x.where)("userId","==",e),(0,x.where)("read","==",!1)),r=await (0,x.getDocs)(t);if(r.empty)return;let n=(0,x.writeBatch)(y.db);r.docs.forEach(e=>{n.update(e.ref,{read:!0,updatedAt:(0,x.serverTimestamp)()})}),await n.commit()}};function w(e){return!e.read}function j(e){return{id:e.id,...e.data()}}let M=(0,i.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),N=(0,i.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var P=e.i(77241),S=e.i(55545),k=e.i(55024),_=e.i(99151),D=e.i(45110),E=e.i(81092);function A(e,t){let r=(0,E.toDate)(e)-(0,E.toDate)(t);return r<0?-1:r>0?1:r}var O=e.i(34662);let T={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}};var C=e.i(15e3);let F={date:(0,C.buildFormatLongFn)({formats:{full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},defaultWidth:"full"}),time:(0,C.buildFormatLongFn)({formats:{full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:(0,C.buildFormatLongFn)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},L={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"};var W=e.i(79564);let z={ordinalNumber:(e,t)=>{let r=Number(e);switch(String(t?.unit)){case"year":return`${r}年`;case"quarter":return`第${r}四半期`;case"month":return`${r}月`;case"week":return`第${r}週`;case"date":return`${r}日`;case"hour":return`${r}時`;case"minute":return`${r}分`;case"second":return`${r}秒`;default:return`${r}`}},era:(0,W.buildLocalizeFn)({values:{narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},defaultWidth:"wide"}),quarter:(0,W.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:(0,W.buildLocalizeFn)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},defaultWidth:"wide"}),day:(0,W.buildLocalizeFn)({values:{narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},defaultWidth:"wide"}),dayPeriod:(0,W.buildLocalizeFn)({values:{narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},defaultWidth:"wide",formattingValues:{narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},defaultFormattingWidth:"wide"})};var R=e.i(10961),I=e.i(16283);let $={code:"ja",formatDistance:(e,t,r)=>{let n;r=r||{};let a=T[e];if(n="string"==typeof a?a:1===t?r.addSuffix&&a.oneWithSuffix?a.oneWithSuffix:a.one:r.addSuffix&&a.otherWithSuffix?a.otherWithSuffix.replace("{{count}}",String(t)):a.other.replace("{{count}}",String(t)),r.addSuffix)if(r.comparison&&r.comparison>0)return n+"後";else return n+"前";return n},formatLong:F,formatRelative:(e,t,r,n)=>L[e],localize:z,match:{ordinalNumber:(0,R.buildMatchPatternFn)({matchPattern:/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,I.buildMatchFn)({matchPatterns:{narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},defaultParseWidth:"any"}),quarter:(0,I.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,I.buildMatchFn)({matchPatterns:{narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,I.buildMatchFn)({matchPatterns:{narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},defaultMatchWidth:"wide",parsePatterns:{any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},defaultParseWidth:"any"}),dayPeriod:(0,I.buildMatchFn)({matchPatterns:{any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function B(){let e,n,o,i,s,l,u,c,d,f,h=(0,r.c)(24),{user:m}=(0,g.useAuth)(),{notifications:p,unreadCount:T}=function(e){let t,n,a,o,i=(0,r.c)(8);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],i[0]=t):t=i[0];let[s,l]=(0,b.useState)(t),[u,c]=(0,b.useState)(0),[d,f]=(0,b.useState)(!0);return i[1]!==e?(n=()=>{if(!e){l([]),c(0),f(!1);return}let t=(0,x.query)((0,x.collection)(y.db,"notifications"),(0,x.where)("userId","==",e),(0,x.orderBy)("createdAt","desc"),(0,x.limit)(20)),r=(0,x.onSnapshot)(t,e=>{let t=e.docs.map(j);l(t),c(t.filter(w).length),f(!1)});return()=>r()},a=[e],i[1]=e,i[2]=n,i[3]=a):(n=i[2],a=i[3]),(0,b.useEffect)(n,a),i[4]!==d||i[5]!==s||i[6]!==u?(o={notifications:s,unreadCount:u,loading:d},i[4]=d,i[5]=s,i[6]=u,i[7]=o):o=i[7],o}(m?.id),[C,F]=(0,b.useState)(!1),L=(0,a.useRouter)(),W=(0,b.useRef)(null);h[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{let e=function(e){W.current&&!W.current.contains(e.target)&&F(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},n=[W],h[0]=e,h[1]=n):(e=h[0],n=h[1]),(0,b.useEffect)(e,n),h[2]!==L?(o=async e=>{e.read||await v.markAsRead(e.id),F(!1),e.link&&L.push(e.link)},h[2]=L,h[3]=o):o=h[3];let z=o;h[4]!==m?(i=async()=>{m&&await v.markAllAsRead(m.id)},h[4]=m,h[5]=i):i=h[5];let R=i;return m?(h[6]!==C?(s=()=>F(!C),h[6]=C,h[7]=s):s=h[7],h[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(M,{size:24}),h[8]=l):l=h[8],h[9]!==T?(u=T>0&&(0,t.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full transform translate-x-1/4 -translate-y-1/4",children:T>9?"9+":T}),h[9]=T,h[10]=u):u=h[10],h[11]!==s||h[12]!==u?(c=(0,t.jsxs)("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 transition-colors",onClick:s,children:[l,u]}),h[11]=s,h[12]=u,h[13]=c):c=h[13],h[14]!==R||h[15]!==z||h[16]!==C||h[17]!==p||h[18]!==L||h[19]!==T?(d=C&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 border-b bg-gray-50",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-700",children:"通知"}),T>0&&(0,t.jsxs)("button",{onClick:R,className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[(0,t.jsx)(N,{size:12}),"すべて既読にする"]})]}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===p.length?(0,t.jsx)("div",{className:"p-8 text-center text-gray-400 text-sm",children:"通知はありません"}):(0,t.jsx)("ul",{className:"divide-y divide-gray-100",children:p.map(e=>{var r,n;return(0,t.jsx)("li",{className:`p-3 hover:bg-gray-50 cursor-pointer transition-colors ${!e.read?"bg-blue-50/50":""}`,onClick:()=>z(e),children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"mt-1",children:e.read?(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}):(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mb-1",children:e.message}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400",children:e.createdAt?(r=e.createdAt.toDate(),n={addSuffix:!0,locale:$},function(e,t,r){var n;let a,o=(0,k.getDefaultOptions)(),i=r?.locale??o.locale??S.defaultLocale,s=A(e,t);if(isNaN(s))throw RangeError("Invalid time value");let l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:s}),[u,c]=(0,D.normalizeDates)(r?.in,...s>0?[t,e]:[e,t]),d=(n=void 0,e=>{let t=(n?Math[n]:Math.trunc)(e);return 0===t?0:t})(((0,E.toDate)(c)-(0,E.toDate)(u))/1e3),f=Math.round((d-((0,_.getTimezoneOffsetInMilliseconds)(c)-(0,_.getTimezoneOffsetInMilliseconds)(u))/1e3)/60);if(f<2)if(r?.includeSeconds)if(d<5)return i.formatDistance("lessThanXSeconds",5,l);else if(d<10)return i.formatDistance("lessThanXSeconds",10,l);else if(d<20)return i.formatDistance("lessThanXSeconds",20,l);else if(d<40)return i.formatDistance("halfAMinute",0,l);else if(d<60)return i.formatDistance("lessThanXMinutes",1,l);else return i.formatDistance("xMinutes",1,l);else if(0===f)return i.formatDistance("lessThanXMinutes",1,l);else return i.formatDistance("xMinutes",f,l);if(f<45)return i.formatDistance("xMinutes",f,l);if(f<90)return i.formatDistance("aboutXHours",1,l);if(f<O.minutesInDay){let e=Math.round(f/60);return i.formatDistance("aboutXHours",e,l)}if(f<2520)return i.formatDistance("xDays",1,l);else if(f<O.minutesInMonth){let e=Math.round(f/O.minutesInDay);return i.formatDistance("xDays",e,l)}else if(f<2*O.minutesInMonth)return a=Math.round(f/O.minutesInMonth),i.formatDistance("aboutXMonths",a,l);if((a=function(e,t,r){var n,a;let o,i,s,l,[u,c,d]=(0,D.normalizeDates)(void 0,e,e,t),f=A(c,d),h=Math.abs(function(e,t,r){let[n,a]=(0,D.normalizeDates)(void 0,e,t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}(c,d));if(h<1)return 0;1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-f*h);let m=A(c,d)===-f;+(o=(0,E.toDate)(u,void 0),n=void 0,(i=(0,E.toDate)(o,n?.in)).setHours(23,59,59,999),i)==+(a=void 0,l=(s=(0,E.toDate)(o,a?.in)).getMonth(),s.setFullYear(s.getFullYear(),l+1,0),s.setHours(23,59,59,999),s)&&1===h&&1===A(u,d)&&(m=!1);let p=f*(h-m);return 0===p?0:p}(c,u))<12){let e=Math.round(f/O.minutesInMonth);return i.formatDistance("xMonths",e,l)}{let e=a%12,t=Math.trunc(a/12);return e<3?i.formatDistance("aboutXYears",t,l):e<9?i.formatDistance("overXYears",t,l):i.formatDistance("almostXYears",t+1,l)}}(r,(0,P.constructFrom)(r,Date.now()),n)):"-"})]})]})},e.id)})})}),(0,t.jsx)("div",{className:"p-2 border-t bg-gray-50 text-center",children:(0,t.jsx)("button",{onClick:()=>L.push("/settings/notifications"),className:"text-xs text-gray-500 hover:text-gray-700",children:"通知設定"})})]}),h[14]=R,h[15]=z,h[16]=C,h[17]=p,h[18]=L,h[19]=T,h[20]=d):d=h[20],h[21]!==c||h[22]!==d?(f=(0,t.jsxs)("div",{className:"relative",ref:W,children:[c,d]}),h[21]=c,h[22]=d,h[23]=f):f=h[23],f):null}function X(){let e,n,a,o,i,s,u,c=(0,r.c)(12),{user:d}=(0,g.useAuth)();c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center gap-4 flex-1",children:(0,t.jsxs)("div",{className:"relative w-64 md:w-96 hidden md:block",children:[(0,t.jsx)(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)("input",{type:"text",placeholder:"検索...",className:"w-full h-10 pl-10 pr-4 rounded-full bg-white/50 border-none focus:ring-2 focus:ring-[#161B33]/20 text-sm shadow-sm backdrop-blur-sm transition-all"})]})}),c[0]=e):e=c[0],c[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(B,{}),c[1]=n):n=c[1];let f=d?.name||"ゲスト";c[2]!==f?(a=(0,t.jsx)("p",{className:"text-sm font-medium text-[#161B33]",children:f}),c[2]=f,c[3]=a):a=c[3];let h=d?.role==="student"?"学生アカウント":d?.role==="company"?"企業アカウント":d?.role==="admin"?"管理者":"ゲスト";return c[4]!==h?(o=(0,t.jsx)("p",{className:"text-xs text-gray-500",children:h}),c[4]=h,c[5]=o):o=c[5],c[6]!==a||c[7]!==o?(i=(0,t.jsxs)("div",{className:"text-right hidden sm:block",children:[a,o]}),c[6]=a,c[7]=o,c[8]=i):i=c[8],c[9]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#161B33] to-[#2D5A8E] shadow-md border-2 border-white cursor-pointer"}),c[9]=s):s=c[9],c[10]!==i?(u=(0,t.jsxs)("header",{className:"sticky top-0 z-30 w-full h-16 px-6 flex items-center justify-between glass border-b-0 rounded-2xl mx-auto max-w-[98%] mt-2",children:[e,(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[n,(0,t.jsxs)("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[i,s]})]})]}),c[10]=i,c[11]=u):u=c[11],u}function U(e){let n,a,o,i=(0,r.c)(4),{children:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(p,{}),i[0]=n):n=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(X,{}),i[1]=a):a=i[1],i[2]!==s?(o=(0,t.jsxs)("div",{className:"min-h-screen text-[#161B33] font-sans",children:[n,(0,t.jsxs)("div",{className:"pl-24 flex flex-col min-h-screen transition-all duration-300",children:[a,(0,t.jsx)("main",{className:"flex-1 p-6 md:p-8 overflow-x-hidden",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:s})})]})]}),i[2]=s,i[3]=o):o=i[3],o}e.s(["MainLayout",()=>U],69969)}]);