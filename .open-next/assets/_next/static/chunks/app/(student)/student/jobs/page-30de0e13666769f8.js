(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7967],{1782:function(e,t,r){Promise.resolve().then(r.bind(r,4883))},44:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8755).Z)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},3774:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8755).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4883:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(7437),a=r(2265),i=r(6943),n=r(6410),l=r(757),d=r(2827),c=r(8711),o=r(7735),u=r(7648),h=r(1817),x=r(44),f=r(3774);function m(){let[e,t]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[b,v]=(0,a.useState)("");(0,a.useEffect)(()=>{!async function(){try{let s;try{let e=(0,i.IO)((0,i.hJ)(n.db,"jobPostings"),(0,i.ar)("status","==","published"),(0,i.Xo)("createdAt","desc"));s=(await (0,i.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}catch(t){var e;if("failed-precondition"===t.code||(null===(e=t.message)||void 0===e?void 0:e.includes("index"))){console.warn("Composite index missing for published jobs query, falling back to unordered query.");let e=(0,i.IO)((0,i.hJ)(n.db,"jobPostings"),(0,i.ar)("status","==","published"));(s=(await (0,i.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))).sort((e,t)=>{var r,s,a,i,n,l;let d=null!==(n=null===(s=e.createdAt)||void 0===s?void 0:null===(r=s.toMillis)||void 0===r?void 0:r.call(s))&&void 0!==n?n:0;return(null!==(l=null===(i=t.createdAt)||void 0===i?void 0:null===(a=i.toMillis)||void 0===a?void 0:a.call(i))&&void 0!==l?l:0)-d})}else throw t}let a=await Promise.all(s.map(async e=>{try{let{getDoc:t,doc:s}=await Promise.resolve().then(r.bind(r,6943)),a=await t(s(n.db,"companies",e.companyId)),i=a.exists()?a.data():void 0;return{...e,company:i}}catch(t){return{...e,company:void 0}}}));t(a)}catch(e){console.error("Error fetching jobs:",e)}finally{p(!1)}}()},[]);let y=e.filter(e=>{var t;return e.title.toLowerCase().includes(b.toLowerCase())||(null===(t=e.company)||void 0===t?void 0:t.name.toLowerCase().includes(b.toLowerCase()))});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-[#1E3A5F]",children:"求人を探す"}),(0,s.jsx)("p",{className:"text-gray-500",children:"あなたのキャリアを開始する最適なインターンシップを見つけましょう"})]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(d.I,{placeholder:"キーワード、企業名で検索...",value:b,onChange:e=>v(e.target.value),className:"pl-10"})}),m?(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)(h.Z,{className:"animate-spin text-[#1E3A5F]",size:32})}):0===y.length?(0,s.jsx)("div",{className:"text-center py-12 text-gray-500",children:"該当する求人が見つかりませんでした。"}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(e=>{var t,r;return(0,s.jsx)(u.default,{href:"/student/jobs/".concat(e.id),children:(0,s.jsxs)(l.Z,{className:"h-full hover:shadow-2xl transition-all cursor-pointer border border-transparent hover:border-[#1E3A5F]/20 group",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-[#1E3A5F] group-hover:text-[#2D5A8E] transition-colors line-clamp-2",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-600",children:[(0,s.jsx)(x.Z,{size:14}),(0,s.jsx)("span",{children:e.companyName||(null===(t=e.company)||void 0===t?void 0:t.name)||"企業名不明"})]})]}),"published"===e.status&&(0,s.jsx)(c.C,{variant:"success",children:"募集中"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[(0,s.jsx)(f.Z,{size:14}),(0,s.jsx)("span",{children:e.location})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.requirements.slice(0,3).map((e,t)=>(0,s.jsx)(c.C,{variant:"outline",className:"text-xs bg-white/50",children:e},t)),e.requirements.length>3&&(0,s.jsxs)(c.C,{variant:"outline",className:"text-xs bg-white/50",children:["+",e.requirements.length-3]})]}),(0,s.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-100 flex justify-between text-xs text-gray-400",children:(0,s.jsxs)("span",{children:["投稿: ",(null===(r=e.createdAt)||void 0===r?void 0:r.toDate)?(0,o.WU)(e.createdAt.toDate(),"yyyy/MM/dd"):"-"]})})]})},e.id)})})]})}},8711:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});var s=r(7437),a=r(2265),i=r(3448);let n=(0,a.forwardRef)((e,t)=>{let{className:r,variant:a="default",...n}=e;return(0,s.jsx)("span",{ref:t,className:(0,i.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{default:"bg-[#1E3A5F]/10 text-[#161B33]",success:"bg-[#48BB78]/10 text-[#48BB78]",warning:"bg-[#ED8936]/10 text-[#ED8936]",error:"bg-[#F56565]/10 text-[#F56565]",outline:"border border-gray-200 text-gray-500"}[a],r),...n})});n.displayName="Badge"},757:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(7437),a=r(2265),i=r(3448);let n=(0,a.forwardRef)((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("glass rounded-2xl p-6 transition-all duration-300",r),...a})});n.displayName="Card"},2827:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var s=r(7437),a=r(2265),i=r(3448);let n=(0,a.forwardRef)((e,t)=>{let{className:r,error:a,label:n,...l}=e;return(0,s.jsxs)("div",{className:"w-full",children:[n&&(0,s.jsx)("label",{className:"block text-sm font-medium text-[#1A202C] mb-1.5",children:n}),(0,s.jsx)("input",{ref:t,className:(0,i.cn)("flex h-10 w-full rounded-lg border border-gray-200 bg-white/50 px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#1E3A5F] disabled:cursor-not-allowed disabled:opacity-50 transition-all backdrop-blur-sm",a&&"border-[#F56565] focus-visible:ring-[#F56565]",r),...l}),a&&(0,s.jsx)("p",{className:"mt-1 text-sm text-[#F56565]",children:a})]})});n.displayName="Input"},6410:function(e,t,r){"use strict";r.d(t,{I:function(){return l},V:function(){return c},db:function(){return d}});var s=r(738),a=r(1466),i=r(6943);let n=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyDL2GylAt2YVRSstEpp4hucbcqw7RuVk4o",authDomain:"internship-matching-app.firebaseapp.com",projectId:"internship-matching-app",messagingSenderId:"299078518812",appId:"1:299078518812:web:03ad34bb4323c497a677d9"}):(0,s.C6)()[0],l=(0,a.v0)(n),d=(0,i.ad)(n),c=new a.hJ},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var s=r(1994),a=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[287,8483,1442,8697,1787,7648,9814,2971,2117,1744],function(){return e(e.s=1782)}),_N_E=e.O()}]);