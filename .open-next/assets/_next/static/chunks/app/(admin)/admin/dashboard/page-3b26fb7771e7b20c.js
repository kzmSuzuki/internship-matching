(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{5460:function(e,t,a){Promise.resolve().then(a.bind(a,7867))},8755:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var s=a(2265);let n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),l=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},o=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:u,iconNode:p,...h}=e;return(0,s.createElement)("svg",{ref:t,...c,width:r,height:r,stroke:a,strokeWidth:l?24*Number(i)/Number(r):i,className:n("lucide",o),...!u&&!d(h)&&{"aria-hidden":"true"},...h},[...p.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{className:c,...d}=a;return(0,s.createElement)(o,{ref:i,iconNode:t,className:n("lucide-".concat(r(l(e))),"lucide-".concat(e),c),...d})});return a.displayName=l(e),a}},5005:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8755).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},44:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8755).Z)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8755).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8736:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8755).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5805:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8755).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7867:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(7437),n=a(2265),r=a(3880),i=a(757),l=a(1817),c=a(44),d=a(5805),o=a(1671),u=a(5005),p=a(8736),h=a(7648);function x(){let[e,t]=(0,n.useState)(null),[a,x]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async function(){try{let e=await r.d.getStats();t(e)}catch(e){console.error(e)}finally{x(!1)}})()},[]),a)?(0,s.jsx)("div",{className:"flex justify-center p-12",children:(0,s.jsx)(l.Z,{className:"animate-spin"})}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"ダッシュボード"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(f,{icon:(0,s.jsx)(c.Z,{}),label:"登録企業数",value:null==e?void 0:e.totalCompanies,color:"bg-blue-500"}),(0,s.jsx)(f,{icon:(0,s.jsx)(d.Z,{}),label:"登録学生数",value:null==e?void 0:e.totalUsers,color:"bg-indigo-500"}),(0,s.jsx)(f,{icon:(0,s.jsx)(o.Z,{}),label:"マッチング成立数",value:null==e?void 0:e.totalMatches,color:"bg-green-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(i.Z,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,s.jsx)(u.Z,{size:20,className:"text-orange-500"}),"求人の状況"]}),(0,s.jsx)(h.default,{href:"/admin/jobs",className:"text-sm text-blue-600 hover:underline",children:"すべて見る"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[(0,s.jsx)("span",{className:"block text-2xl font-bold text-orange-600",children:null==e?void 0:e.pendingJobs}),(0,s.jsx)("span",{className:"text-xs text-orange-800 font-bold",children:"承認待ち"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,s.jsx)("span",{className:"block text-2xl font-bold text-gray-600",children:null==e?void 0:e.activeJobs}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"公開中"})]})]})]}),(0,s.jsxs)(i.Z,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,s.jsx)(p.Z,{size:20,className:"text-purple-500"}),"応募の状況"]}),(0,s.jsx)(h.default,{href:"/admin/applications",className:"text-sm text-blue-600 hover:underline",children:"すべて見る"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,s.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,s.jsx)("span",{className:"block text-2xl font-bold text-purple-600",children:null==e?void 0:e.pendingApplications}),(0,s.jsx)("span",{className:"text-xs text-purple-800 font-bold",children:"管理者承認待ち"})]})})]})]})]})}function f(e){let{icon:t,label:a,value:n,color:r}=e;return(0,s.jsxs)(i.Z,{className:"p-6 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg text-white ".concat(r),children:t}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:a}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:n})]})]})}},757:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(7437),n=a(2265),r=a(3448);let i=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("glass rounded-2xl p-6 transition-all duration-300",a),...n})});i.displayName="Card"},6410:function(e,t,a){"use strict";a.d(t,{I:function(){return l},V:function(){return d},db:function(){return c}});var s=a(738),n=a(1466),r=a(6943);let i=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyDL2GylAt2YVRSstEpp4hucbcqw7RuVk4o",authDomain:"internship-matching-app.firebaseapp.com",projectId:"internship-matching-app",messagingSenderId:"299078518812",appId:"1:299078518812:web:03ad34bb4323c497a677d9"}):(0,s.C6)()[0],l=(0,n.v0)(i),c=(0,r.ad)(i),d=new n.hJ},3448:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(1994),n=a(3335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}},3880:function(e,t,a){"use strict";a.d(t,{d:function(){return i}});var s=a(6410),n=a(6943);class r{async getStats(){try{let e=(0,n.hJ)(s.db,"users"),t=(0,n.hJ)(s.db,"companies"),a=(0,n.hJ)(s.db,"jobPostings"),r=(0,n.hJ)(s.db,"applications"),i=(0,n.hJ)(s.db,"matches"),l=await (0,n.Yp)(e),c=await (0,n.Yp)(t),d=await (0,n.Yp)((0,n.IO)(a,(0,n.ar)("status","==","pending_approval"))),o=await (0,n.Yp)((0,n.IO)(a,(0,n.ar)("status","==","published"))),u=await (0,n.Yp)((0,n.IO)(r,(0,n.ar)("status","==","pending_admin"))),p=await (0,n.Yp)(i);return{totalUsers:l.data().count,totalCompanies:c.data().count,pendingJobs:d.data().count,activeJobs:o.data().count,pendingApplications:u.data().count,totalMatches:p.data().count}}catch(e){throw console.error("AdminService.getStats error:",e),e}}async getPendingJobs(){let e=(0,n.IO)((0,n.hJ)(s.db,"jobPostings"),(0,n.ar)("status","==","pending_approval"),(0,n.Xo)("createdAt","asc"));return(await (0,n.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}async approveJob(e){await (0,n.r7)((0,n.JU)(s.db,"jobPostings",e),{status:"published",updatedAt:(0,n.Bt)()})}async rejectJob(e){await (0,n.r7)((0,n.JU)(s.db,"jobPostings",e),{status:"draft",updatedAt:(0,n.Bt)()})}async getPendingApplications(){let e=(0,n.IO)((0,n.hJ)(s.db,"applications"),(0,n.ar)("status","==","pending_admin"),(0,n.Xo)("createdAt","asc"));return(await (0,n.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}async getApplicationDetails(e){let t=await (0,n.QT)((0,n.JU)(s.db,"jobPostings",e.jobId)),a=await (0,n.QT)((0,n.JU)(s.db,"students",e.studentId)),r=await (0,n.QT)((0,n.JU)(s.db,"companies",e.companyId));return{job:t.exists()?t.data():null,student:a.exists()?a.data():null,company:r.exists()?r.data():null}}async approveApplication(e){}async getAllCompanies(){return(await (0,n.PL)((0,n.hJ)(s.db,"companies"))).docs.map(e=>({...e.data()}))}}let i=new r}},function(e){e.O(0,[287,483,137,442,648,971,117,744],function(){return e(e.s=5460)}),_N_E=e.O()}]);