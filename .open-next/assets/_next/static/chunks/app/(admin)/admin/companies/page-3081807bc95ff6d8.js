(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{4441:function(e,t,a){Promise.resolve().then(a.bind(a,4313))},8755:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var r=a(2265);let s=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),l=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},o=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:u,iconNode:h,...p}=e;return(0,r.createElement)("svg",{ref:t,...d,width:n,height:n,stroke:a,strokeWidth:l?24*Number(i)/Number(n):i,className:s("lucide",o),...!u&&!c(p)&&{"aria-hidden":"true"},...p},[...h.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,r.forwardRef)((a,i)=>{let{className:d,...c}=a;return(0,r.createElement)(o,{ref:i,iconNode:t,className:s("lucide-".concat(n(l(e))),"lucide-".concat(e),d),...c})});return a.displayName=l(e),a}},44:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8755).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4313:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var r=a(7437),s=a(2265),n=a(3880),i=a(757),l=a(8711),d=a(1817),c=a(44),o=a(3774);let u=(0,a(8755).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var h=a(3008),p=a(6334);function x(){let[e,t]=(0,s.useState)([]),[a,x]=(0,s.useState)(!0),[m,f]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async function(){try{let e=await n.d.getAllCompanies();t(e)}catch(e){console.error(e)}finally{x(!1)}})()},[]),a)?(0,r.jsx)("div",{className:"flex justify-center p-12",children:(0,r.jsx)(d.Z,{className:"animate-spin"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"企業管理"}),(0,r.jsxs)("p",{className:"text-gray-500",children:["登録企業: ",e.length," 社"]})]}),(0,r.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,r.jsx)(i.Z,{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>f(e),children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:(0,r.jsx)(c.Z,{className:"text-gray-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg",children:e.name}),(0,r.jsxs)("div",{className:"flex gap-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.Z,{size:14})," ",e.address]}),(0,r.jsx)("span",{children:e.industry})]})]}),(0,r.jsx)("div",{className:"ml-auto",children:(0,r.jsx)(l.C,{variant:e.isApproved?"success":"warning",children:e.isApproved?"承認済み":"承認待ち"})})]})},e.userId))}),(0,r.jsx)(h.u,{isOpen:!!m,onClose:()=>f(null),title:"企業詳細",children:m&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block",children:"企業名"}),(0,r.jsx)("p",{className:"font-bold text-xl",children:m.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block",children:"Webサイト"}),(0,r.jsxs)("a",{href:m.website,target:"_blank",className:"text-blue-600 hover:underline flex items-center gap-1",children:[(0,r.jsx)(u,{size:14})," ",m.website]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block",children:"住所"}),(0,r.jsx)("p",{children:m.address})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block",children:"会社概要"}),(0,r.jsx)("p",{className:"text-sm bg-gray-50 p-2 rounded whitespace-pre-wrap",children:m.description})]}),(0,r.jsx)("div",{className:"pt-4 flex justify-end",children:(0,r.jsx)(p.z,{variant:"secondary",onClick:()=>f(null),children:"閉じる"})})]})})]})}},8711:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var r=a(7437),s=a(2265),n=a(3448);let i=(0,s.forwardRef)((e,t)=>{let{className:a,variant:s="default",...i}=e;return(0,r.jsx)("span",{ref:t,className:(0,n.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{default:"bg-[#1E3A5F]/10 text-[#161B33]",success:"bg-[#48BB78]/10 text-[#48BB78]",warning:"bg-[#ED8936]/10 text-[#ED8936]",error:"bg-[#F56565]/10 text-[#F56565]",outline:"border border-gray-200 text-gray-500"}[s],a),...i})});i.displayName="Badge"},6334:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var r=a(7437),s=a(2265),n=a(3448),i=a(1817);let l=(0,s.forwardRef)((e,t)=>{let{className:a,variant:s="primary",size:l="md",isLoading:d,children:c,disabled:o,...u}=e;return(0,r.jsxs)("button",{ref:t,className:(0,n.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-[#1E3A5F]/50 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-gradient-to-r from-[#161B33] to-[#142841] text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 border border-white/10",secondary:"glass-button text-[#1E3A5F] bg-white/40 hover:bg-white/60",outline:"glass-button border border-[#1E3A5F]/30 text-[#1E3A5F] hover:bg-[#1E3A5F]/5",ghost:"text-[#1E3A5F] hover:bg-[#1E3A5F]/10",danger:"glass-button bg-gradient-to-r from-[#F56565] to-[#E53E3E] text-white border-0"}[s],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[l],a),disabled:o||d,...u,children:[d&&(0,r.jsx)(i.Z,{className:"mr-2 h-4 w-4 animate-spin"}),c]})});l.displayName="Button"},757:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var r=a(7437),s=a(2265),n=a(3448);let i=(0,s.forwardRef)((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("glass rounded-2xl p-6 transition-all duration-300",a),...s})});i.displayName="Card"},3008:function(e,t,a){"use strict";a.d(t,{u:function(){return d}});var r=a(7437),s=a(2265),n=a(4887);let i=(0,a(8755).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var l=a(3448);function d(e){let{isOpen:t,onClose:a,title:d,children:c,className:o}=e;return((0,s.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t)?(0,n.createPortal)((0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:(0,r.jsxs)("div",{className:(0,l.cn)("relative w-full max-w-lg transform rounded-2xl bg-white/80 backdrop-blur-2xl p-6 text-left align-middle shadow-2xl transition-all animate-in zoom-in-95 duration-200 border border-white/40",o),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[d&&(0,r.jsx)("h3",{className:"text-lg font-medium leading-6 text-[#161B33]",children:d}),(0,r.jsx)("button",{onClick:a,className:"rounded-full p-1 hover:bg-gray-100 transition-colors",children:(0,r.jsx)(i,{className:"h-5 w-5 text-gray-500"})})]}),(0,r.jsx)("div",{children:c})]})}),document.body):null}},6410:function(e,t,a){"use strict";a.d(t,{I:function(){return l},V:function(){return c},db:function(){return d}});var r=a(738),s=a(1466),n=a(6943);let i=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyDL2GylAt2YVRSstEpp4hucbcqw7RuVk4o",authDomain:"internship-matching-app.firebaseapp.com",projectId:"internship-matching-app",messagingSenderId:"299078518812",appId:"1:299078518812:web:03ad34bb4323c497a677d9"}):(0,r.C6)()[0],l=(0,s.v0)(i),d=(0,n.ad)(i),c=new s.hJ},3448:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(1994),s=a(3335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}},3880:function(e,t,a){"use strict";a.d(t,{d:function(){return i}});var r=a(6410),s=a(6943);class n{async getStats(){try{let e=(0,s.hJ)(r.db,"users"),t=(0,s.hJ)(r.db,"companies"),a=(0,s.hJ)(r.db,"jobPostings"),n=(0,s.hJ)(r.db,"applications"),i=(0,s.hJ)(r.db,"matches"),l=await (0,s.Yp)(e),d=await (0,s.Yp)(t),c=await (0,s.Yp)((0,s.IO)(a,(0,s.ar)("status","==","pending_approval"))),o=await (0,s.Yp)((0,s.IO)(a,(0,s.ar)("status","==","published"))),u=await (0,s.Yp)((0,s.IO)(n,(0,s.ar)("status","==","pending_admin"))),h=await (0,s.Yp)(i);return{totalUsers:l.data().count,totalCompanies:d.data().count,pendingJobs:c.data().count,activeJobs:o.data().count,pendingApplications:u.data().count,totalMatches:h.data().count}}catch(e){throw console.error("AdminService.getStats error:",e),e}}async getPendingJobs(){let e=(0,s.IO)((0,s.hJ)(r.db,"jobPostings"),(0,s.ar)("status","==","pending_approval"),(0,s.Xo)("createdAt","asc"));return(await (0,s.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}async approveJob(e){await (0,s.r7)((0,s.JU)(r.db,"jobPostings",e),{status:"published",updatedAt:(0,s.Bt)()})}async rejectJob(e){await (0,s.r7)((0,s.JU)(r.db,"jobPostings",e),{status:"draft",updatedAt:(0,s.Bt)()})}async getPendingApplications(){let e=(0,s.IO)((0,s.hJ)(r.db,"applications"),(0,s.ar)("status","==","pending_admin"),(0,s.Xo)("createdAt","asc"));return(await (0,s.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}async getApplicationDetails(e){let t=await (0,s.QT)((0,s.JU)(r.db,"jobPostings",e.jobId)),a=await (0,s.QT)((0,s.JU)(r.db,"students",e.studentId)),n=await (0,s.QT)((0,s.JU)(r.db,"companies",e.companyId));return{job:t.exists()?t.data():null,student:a.exists()?a.data():null,company:n.exists()?n.data():null}}async approveApplication(e){}async getAllCompanies(){return(await (0,s.PL)((0,s.hJ)(r.db,"companies"))).docs.map(e=>({...e.data()}))}}let i=new n}},function(e){e.O(0,[287,483,137,442,971,117,744],function(){return e(e.s=4441)}),_N_E=e.O()}]);