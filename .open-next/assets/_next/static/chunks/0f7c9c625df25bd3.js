(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3812,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let n=(0,r.forwardRef)(({className:e,error:r,label:n,...i},s)=>(0,t.jsxs)("div",{className:"w-full",children:[n&&(0,t.jsx)("label",{className:"block text-sm font-medium text-[#1A202C] mb-1.5",children:n}),(0,t.jsx)("input",{ref:s,className:(0,a.cn)("flex h-10 w-full rounded-lg border border-gray-200 bg-white/50 px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#1E3A5F] disabled:cursor-not-allowed disabled:opacity-50 transition-all backdrop-blur-sm",r&&"border-[#F56565] focus-visible:ring-[#F56565]",e),...i}),r&&(0,t.jsx)("p",{className:"mt-1 text-sm text-[#F56565]",children:r})]}));n.displayName="Input",e.s(["Input",0,n])},32098,e=>{"use strict";var t=e.i(43476),r=e.i(932),a=e.i(71645),n=e.i(74080);let i=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var s=e.i(75157);function o(e){let o,c,d,u,m,h,f,x,g,p=(0,r.c)(19),{isOpen:b,onClose:w,title:y,children:v,className:j}=e;return(p[0]!==b?(o=()=>(b?document.body.style.overflow="hidden":document.body.style.overflow="unset",l),c=[b],p[0]=b,p[1]=o,p[2]=c):(o=p[1],c=p[2]),(0,a.useEffect)(o,c),b)?(p[3]!==j?(d=(0,s.cn)("relative w-full max-w-lg transform rounded-2xl bg-white/80 backdrop-blur-2xl p-6 text-left align-middle shadow-2xl transition-all animate-in zoom-in-95 duration-200 border border-white/40",j),p[3]=j,p[4]=d):d=p[4],p[5]!==y?(u=y&&(0,t.jsx)("h3",{className:"text-lg font-medium leading-6 text-[#161B33]",children:y}),p[5]=y,p[6]=u):u=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(i,{className:"h-5 w-5 text-gray-500"}),p[7]=m):m=p[7],p[8]!==w?(h=(0,t.jsx)("button",{onClick:w,className:"rounded-full p-1 hover:bg-gray-100 transition-colors",children:m}),p[8]=w,p[9]=h):h=p[9],p[10]!==u||p[11]!==h?(f=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[u,h]}),p[10]=u,p[11]=h,p[12]=f):f=p[12],p[13]!==v?(x=(0,t.jsx)("div",{children:v}),p[13]=v,p[14]=x):x=p[14],p[15]!==d||p[16]!==f||p[17]!==x?(g=(0,n.createPortal)((0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:(0,t.jsxs)("div",{className:d,children:[f,x]})}),document.body),p[15]=d,p[16]=f,p[17]=x,p[18]=g):g=p[18],g):null}function l(){document.body.style.overflow="unset"}e.s(["Modal",()=>o],32098)},39964,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let n=(0,r.forwardRef)(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("glass rounded-2xl p-6 transition-all duration-300",e),...r}));n.displayName="Card",e.s(["Card",0,n])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},59544,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157),n=e.i(31278);let i=(0,r.forwardRef)(({className:e,variant:r="primary",size:i="md",isLoading:s,children:o,disabled:l,...c},d)=>(0,t.jsxs)("button",{ref:d,className:(0,a.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-[#1E3A5F]/50 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-gradient-to-r from-[#161B33] to-[#142841] text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 border border-white/10",secondary:"glass-button text-[#1E3A5F] bg-white/40 hover:bg-white/60",outline:"glass-button border border-[#1E3A5F]/30 text-[#1E3A5F] hover:bg-[#1E3A5F]/5",ghost:"text-[#1E3A5F] hover:bg-[#1E3A5F]/10",danger:"glass-button bg-gradient-to-r from-[#F56565] to-[#E53E3E] text-white border-0"}[r],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[i],e),disabled:l||s,...c,children:[s&&(0,t.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),o]}));i.displayName="Button",e.s(["Button",0,i])},96640,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let n=(0,r.forwardRef)(({className:e,variant:r="default",...n},i)=>(0,t.jsx)("span",{ref:i,className:(0,a.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{default:"bg-[#1E3A5F]/10 text-[#161B33]",success:"bg-[#48BB78]/10 text-[#48BB78]",warning:"bg-[#ED8936]/10 text-[#ED8936]",error:"bg-[#F56565]/10 text-[#F56565]",outline:"border border-gray-200 text-gray-500"}[r],e),...n}));n.displayName="Badge",e.s(["Badge",0,n])},1851,e=>{"use strict";var t=e.i(55545),r=e.i(55024),a=e.i(99151),n=e.i(45110),i=e.i(34662),s=e.i(81092);function o(e,t){let r=(0,s.toDate)(e,t?.in);return r.setHours(0,0,0,0),r}function l(e,t){let a=(0,r.getDefaultOptions)(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=(0,s.toDate)(e,t?.in),o=i.getDay();return i.setDate(i.getDate()-(7*(o<n)+o-n)),i.setHours(0,0,0,0),i}function c(e,t){return l(e,{...t,weekStartsOn:1})}var d=e.i(77241);function u(e,t){let r=(0,s.toDate)(e,t?.in),a=r.getFullYear(),n=(0,d.constructFrom)(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);let i=c(n),o=(0,d.constructFrom)(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);let l=c(o);return r.getTime()>=i.getTime()?a+1:r.getTime()>=l.getTime()?a:a-1}function m(e,t){let a=(0,s.toDate)(e,t?.in),n=a.getFullYear(),i=(0,r.getDefaultOptions)(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=(0,d.constructFrom)(t?.in||e,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);let u=l(c,t),m=(0,d.constructFrom)(t?.in||e,0);m.setFullYear(n,0,o),m.setHours(0,0,0,0);let h=l(m,t);return+a>=+u?n+1:+a>=+h?n:n-1}function h(e,t){let r=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+r}let f={y(e,t){let r=e.getFullYear(),a=r>0?r:1-r;return h("yy"===t?a%100:a,t.length)},M(e,t){let r=e.getMonth();return"M"===t?String(r+1):h(r+1,2)},d:(e,t)=>h(e.getDate(),t.length),a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>h(e.getHours()%12||12,t.length),H:(e,t)=>h(e.getHours(),t.length),m:(e,t)=>h(e.getMinutes(),t.length),s:(e,t)=>h(e.getSeconds(),t.length),S(e,t){let r=t.length;return h(Math.trunc(e.getMilliseconds()*Math.pow(10,r-3)),t.length)}},x={G:function(e,t,r){let a=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){let t=e.getFullYear();return r.ordinalNumber(t>0?t:1-t,{unit:"year"})}return f.y(e,t)},Y:function(e,t,r,a){let n=m(e,a),i=n>0?n:1-n;return"YY"===t?h(i%100,2):"Yo"===t?r.ordinalNumber(i,{unit:"year"}):h(i,t.length)},R:function(e,t){return h(u(e),t.length)},u:function(e,t){return h(e.getFullYear(),t.length)},Q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return h(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return h(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){let a=e.getMonth();switch(t){case"M":case"MM":return f.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return h(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,a,n){let o,c,u,f,x,g=Math.round((l(o=(0,s.toDate)(e,n?.in),n)-(c=(0,r.getDefaultOptions)(),u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,f=m(o,n),(x=(0,d.constructFrom)(n?.in||o,0)).setFullYear(f,0,u),x.setHours(0,0,0,0),l(x,n)))/i.millisecondsInWeek)+1;return"wo"===t?a.ordinalNumber(g,{unit:"week"}):h(g,t.length)},I:function(e,t,r){let a,n,o,l=Math.round((c(a=(0,s.toDate)(e,void 0))-(n=u(a,void 0),(o=(0,d.constructFrom)(a,0)).setFullYear(n,0,4),o.setHours(0,0,0,0),c(o)))/i.millisecondsInWeek)+1;return"Io"===t?r.ordinalNumber(l,{unit:"week"}):h(l,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):f.d(e,t)},D:function(e,t,r){let l,c,d=function(e,t,r){let[s,l]=(0,n.normalizeDates)(void 0,e,t),c=o(s),d=o(l);return Math.round((c-(0,a.getTimezoneOffsetInMilliseconds)(c)-(d-(0,a.getTimezoneOffsetInMilliseconds)(d)))/i.millisecondsInDay)}(l=(0,s.toDate)(e,void 0),((c=(0,s.toDate)(l,void 0)).setFullYear(c.getFullYear(),0,1),c.setHours(0,0,0,0),c))+1;return"Do"===t?r.ordinalNumber(d,{unit:"dayOfYear"}):h(d,t.length)},E:function(e,t,r){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){let n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return h(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){let n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return h(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){let a=e.getDay(),n=0===a?7:a;switch(t){case"i":return String(n);case"ii":return h(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){let a,n=e.getHours();switch(a=12===n?"noon":0===n?"midnight":n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){let a,n=e.getHours();switch(a=n>=17?"evening":n>=12?"afternoon":n>=4?"morning":"night",t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return f.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):f.H(e,t)},K:function(e,t,r){let a=e.getHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):h(a,t.length)},k:function(e,t,r){let a=e.getHours();return(0===a&&(a=24),"ko"===t)?r.ordinalNumber(a,{unit:"hour"}):h(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):f.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):f.s(e,t)},S:function(e,t){return f.S(e,t)},X:function(e,t,r){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return p(a);case"XXXX":case"XX":return b(a);default:return b(a,":")}},x:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"x":return p(a);case"xxxx":case"xx":return b(a);default:return b(a,":")}},O:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(a,":");default:return"GMT"+b(a,":")}},z:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(a,":");default:return"GMT"+b(a,":")}},t:function(e,t,r){return h(Math.trunc(e/1e3),t.length)},T:function(e,t,r){return h(+e,t.length)}};function g(e,t=""){let r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return 0===i?r+String(n):r+String(n)+t+h(i,2)}function p(e,t){return e%60==0?(e>0?"-":"+")+h(Math.abs(e)/60,2):b(e,t)}function b(e,t=""){let r=Math.abs(e);return(e>0?"-":"+")+h(Math.trunc(r/60),2)+t+h(r%60,2)}let w=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},y=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},v={p:y,P:(e,t)=>{let r,a=e.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return w(e,t);switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",w(n,t)).replace("{{time}}",y(i,t))}},j=/^D+$/,N=/^Y+$/,k=["D","DD","YY","YYYY"],D=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S=/^'([^]*?)'?$/,E=/''/g,C=/[a-zA-Z]/;function F(e,a,n){let i=(0,r.getDefaultOptions)(),o=n?.locale??i.locale??t.defaultLocale,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,d=(0,s.toDate)(e,n?.in);if(!(d instanceof Date||"object"==typeof d&&"[object Date]"===Object.prototype.toString.call(d))&&"number"!=typeof d||isNaN(+(0,s.toDate)(d)))throw RangeError("Invalid time value");let u=a.match(M).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,v[t])(e,o.formatLong):e}).join("").match(D).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var r;let t;return{isToken:!1,value:(t=(r=e).match(S))?t[1].replace(E,"'"):r}}if(x[t])return{isToken:!0,value:e};if(t.match(C))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});o.localize.preprocessor&&(u=o.localize.preprocessor(d,u));let m={firstWeekContainsDate:l,weekStartsOn:c,locale:o};return u.map(t=>{if(!t.isToken)return t.value;let r=t.value;return(!n?.useAdditionalWeekYearTokens&&N.test(r)||!n?.useAdditionalDayOfYearTokens&&j.test(r))&&function(e,t,r){var a,n,i;let s,o=(a=e,n=t,i=r,s="Y"===a[0]?"years":"days of the month",`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${n}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(o),k.includes(e))throw RangeError(o)}(r,a,String(e)),(0,x[r[0]])(d,r,o.localize,m)}).join("")}e.s(["format",()=>F],1851)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},50256,86311,e=>{"use strict";var t=e.i(59141);e.i(36180);var r=e.i(98925);let a=new class{async createReport(e,a,n,i,s,o){try{return(await (0,r.addDoc)((0,r.collection)(t.db,"dailyReports"),{matchId:a,studentId:e,date:r.Timestamp.fromDate(o),content:n,learning:i,nextGoals:s,createdAt:(0,r.serverTimestamp)(),updatedAt:(0,r.serverTimestamp)()})).id}catch(e){throw console.error("createReport error:",e),e}}async getReports(e){try{let a=(0,r.query)((0,r.collection)(t.db,"dailyReports"),(0,r.where)("matchId","==",e),(0,r.orderBy)("date","desc"));return(await (0,r.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("getReports error:",e),e}}async addCompanyComment(e,a){try{let n=(0,r.doc)(t.db,"dailyReports",e);await (0,r.updateDoc)(n,{companyComment:a,updatedAt:(0,r.serverTimestamp)()})}catch(e){throw console.error("addCompanyComment error:",e),e}}async getMatch(e){try{let a=await (0,r.getDoc)((0,r.doc)(t.db,"matches",e));if(a.exists())return{id:a.id,...a.data()};return null}catch(e){throw console.error("getMatch error:",e),e}}async completeInternship(e){try{await (0,r.updateDoc)((0,r.doc)(t.db,"matches",e),{status:"completed",endDate:(0,r.serverTimestamp)()})}catch(e){throw console.error("completeInternship error:",e),e}}async submitEvaluation(e,a,n,i,s){try{await (0,r.addDoc)((0,r.collection)(t.db,"evaluations"),{matchId:e,fromId:a,toId:n,score:i,comment:s,createdAt:(0,r.serverTimestamp)()})}catch(e){throw console.error("submitEvaluation error:",e),e}}async getEvaluation(e,a){try{let n=(0,r.query)((0,r.collection)(t.db,"evaluations"),(0,r.where)("matchId","==",e),(0,r.where)("fromId","==",a)),i=await (0,r.getDocs)(n);if(!i.empty)return{id:i.docs[0].id,...i.docs[0].data()};return null}catch(e){throw console.error("getEvaluation error:",e),e}}};e.s(["internshipService",0,a],50256);let n=(0,e.i(75254).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>n],86311)},31696,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(57951),n=e.i(50256);e.i(36180);var i=e.i(98925),s=e.i(59141),o=e.i(39964),l=e.i(59544),c=e.i(3812),d=e.i(96640),u=e.i(32098),m=e.i(31278),h=e.i(7233),f=e.i(87316),x=e.i(86311),g=e.i(1851);function p({params:e}){let{matchId:p}=(0,r.use)(e),{user:b}=(0,a.useAuth)(),[w,y]=(0,r.useState)(null),[v,j]=(0,r.useState)(null),[N,k]=(0,r.useState)([]),[D,M]=(0,r.useState)(!0),[S,E]=(0,r.useState)(null),[C,F]=(0,r.useState)(0),[T,B]=(0,r.useState)(""),[O,q]=(0,r.useState)(!1),[P,Y]=(0,r.useState)(!1),[z,A]=(0,r.useState)(new Date().toISOString().split("T")[0]),[H,L]=(0,r.useState)(""),[I,R]=(0,r.useState)(""),[G,W]=(0,r.useState)(""),[Q,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{!async function(){if(b)try{let e=await n.internshipService.getMatch(p);if(!e||e.studentId!==b.id)throw Error("Match not found or unauthorized");y(e);let t=await (0,i.getDoc)((0,i.doc)(s.db,"companies",e.companyId));t.exists()&&j(t.data());let r=await n.internshipService.getReports(p);if(k(r),"completed"===e.status){let e=await n.internshipService.getEvaluation(p,b.id);E(e)}}catch(e){console.error("Error fetching data:",e)}finally{M(!1)}}()},[p,b]);let X=async e=>{if(e.preventDefault(),b&&w){$(!0);try{await n.internshipService.createReport(b.id,w.id,H,I,G,new Date(z)),Y(!1);let e=await n.internshipService.getReports(w.id);k(e),L(""),R(""),W("")}catch(e){console.error(e),alert("日報の作成に失敗しました")}finally{$(!1)}}},K=async e=>{if((e.preventDefault(),b&&w&&v)&&confirm("評価を送信しますか？送信後は変更できません。")){q(!0);try{await n.internshipService.submitEvaluation(w.id,b.id,v.userId,C,T);let e=await n.internshipService.getEvaluation(w.id,b.id);E(e)}catch(e){console.error(e),alert("評価の送信に失敗しました")}finally{q(!1)}}};return D?(0,t.jsx)("div",{className:"flex justify-center p-12",children:(0,t.jsx)(m.Loader2,{className:"animate-spin"})}):w?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center bg-[#1E3A5F] text-white p-6 rounded-xl shadow-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-xl font-bold mb-1",children:[v?.name," インターンシップ"]}),(0,t.jsxs)("p",{className:"text-sm opacity-90",children:["期間: ",w.startDate?(0,g.format)(w.startDate.toDate(),"yyyy/MM/dd"):"-",w.endDate?` ~ ${(0,g.format)(w.endDate.toDate(),"yyyy/MM/dd")}`:" ~ 進行中"]})]}),"active"===w.status?(0,t.jsx)(d.Badge,{variant:"success",className:"bg-[#48BB78] text-white border-none",children:"進行中"}):(0,t.jsx)(d.Badge,{variant:"outline",className:"text-white border-white",children:"完了"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-[#1E3A5F]",children:"日報一覧"}),"active"===w.status&&(0,t.jsxs)(l.Button,{size:"sm",onClick:()=>Y(!0),children:[(0,t.jsx)(h.Plus,{size:16,className:"mr-1"}),"日報を書く"]})]}),0===N.length?(0,t.jsx)(o.Card,{className:"p-8 text-center text-gray-500",children:"まだ日報がありません。"}):(0,t.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,t.jsxs)(o.Card,{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3 border-b pb-2",children:[(0,t.jsx)(f.Calendar,{size:16,className:"text-gray-400"}),(0,t.jsx)("span",{className:"font-bold text-[#1E3A5F]",children:(0,g.format)(e.date.toDate(),"yyyy/MM/dd")})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 block",children:"業務内容"}),(0,t.jsx)("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.content})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 block",children:"学んだこと"}),(0,t.jsx)("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.learning})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400 block",children:"明日の目標"}),(0,t.jsx)("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.nextGoals})]}),e.companyComment&&(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg mt-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-blue-800 font-bold mb-1",children:[(0,t.jsx)(x.MessageSquare,{size:14}),"企業からのコメント"]}),(0,t.jsx)("p",{className:"text-blue-900",children:e.companyComment})]})]})]},e.id))})]}),(0,t.jsx)("div",{className:"space-y-6",children:"completed"===w.status&&(0,t.jsxs)(o.Card,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-bold mb-4 text-[#1E3A5F]",children:"インターン評価"}),S?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-[#48BB78]/10 text-center py-4 rounded-lg",children:[(0,t.jsx)("span",{className:"block text-xs text-gray-500",children:"評価完了"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-[#2F855A]",children:"送信済み"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400",children:"スコア"}),(0,t.jsx)("div",{className:"flex text-yellow-500",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("span",{className:r<S.score?"text-yellow-500":"text-gray-300",children:"★"},r))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-400",children:"コメント"}),(0,t.jsx)("p",{className:"text-sm",children:S.comment})]})]}):(0,t.jsxs)("form",{onSubmit:K,className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"インターンシップが終了しました。 体験を通じた企業の評価を入力してください。"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"評価スコア (1-5)"}),(0,t.jsxs)("select",{className:"w-full border rounded p-2",value:C,onChange:e=>F(Number(e.target.value)),required:!0,children:[(0,t.jsx)("option",{value:"0",children:"選択してください"}),(0,t.jsx)("option",{value:"5",children:"5 - とても良かった"}),(0,t.jsx)("option",{value:"4",children:"4 - 良かった"}),(0,t.jsx)("option",{value:"3",children:"3 - 普通"}),(0,t.jsx)("option",{value:"2",children:"2 - あまり良くなかった"}),(0,t.jsx)("option",{value:"1",children:"1 - 良くなかった"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"コメント"}),(0,t.jsx)("textarea",{className:"w-full border rounded p-2 min-h-[100px]",value:T,onChange:e=>B(e.target.value),required:!0,placeholder:"フィードバックや感想を入力..."})]}),(0,t.jsx)(l.Button,{type:"submit",className:"w-full",isLoading:O,disabled:0===C,children:"評価を送信する"})]})]})})]}),(0,t.jsx)(u.Modal,{isOpen:P,onClose:()=>Y(!1),title:"日報の作成",children:(0,t.jsxs)("form",{onSubmit:X,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"日付"}),(0,t.jsx)(c.Input,{type:"date",value:z,onChange:e=>A(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"業務内容"}),(0,t.jsx)("textarea",{className:"w-full border rounded p-2 min-h-[80px]",value:H,onChange:e=>L(e.target.value),required:!0,placeholder:"今日行ったタスク..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"学んだこと"}),(0,t.jsx)("textarea",{className:"w-full border rounded p-2 min-h-[80px]",value:I,onChange:e=>R(e.target.value),required:!0,placeholder:"気づきや学び..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"明日の目標"}),(0,t.jsx)("textarea",{className:"w-full border rounded p-2 min-h-[60px]",value:G,onChange:e=>W(e.target.value),required:!0,placeholder:"次にやること..."})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)(l.Button,{type:"button",variant:"secondary",onClick:()=>Y(!1),children:"キャンセル"}),(0,t.jsx)(l.Button,{type:"submit",isLoading:Q,children:"保存する"})]})]})})]}):(0,t.jsx)("div",{className:"p-12 text-center",children:"データが見つかりません"})}e.s(["default",()=>p])}]);