(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39964,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let i=(0,s.forwardRef)(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("glass rounded-2xl p-6 transition-all duration-300",e),...s}));i.displayName="Card",e.s(["Card",0,i])},24696,e=>{"use strict";var t=e.i(59141);e.i(36180);var s=e.i(98925);let a=new class{async getStats(){try{let e=(0,s.collection)(t.db,"users"),a=(0,s.collection)(t.db,"companies"),i=(0,s.collection)(t.db,"jobPostings"),l=(0,s.collection)(t.db,"applications"),c=(0,s.collection)(t.db,"matches"),r=await (0,s.getCountFromServer)(e),n=await (0,s.getCountFromServer)(a),o=await (0,s.getCountFromServer)((0,s.query)(i,(0,s.where)("status","==","pending_approval"))),d=await (0,s.getCountFromServer)((0,s.query)(i,(0,s.where)("status","==","published"))),p=await (0,s.getCountFromServer)((0,s.query)(l,(0,s.where)("status","==","pending_admin"))),u=await (0,s.getCountFromServer)(c);return{totalUsers:r.data().count,totalCompanies:n.data().count,pendingJobs:o.data().count,activeJobs:d.data().count,pendingApplications:p.data().count,totalMatches:u.data().count}}catch(e){throw console.error("AdminService.getStats error:",e),e}}async getPendingJobs(){let e=(0,s.query)((0,s.collection)(t.db,"jobPostings"),(0,s.where)("status","==","pending_approval"),(0,s.orderBy)("createdAt","asc"));return(await (0,s.getDocs)(e)).docs.map(e=>({id:e.id,...e.data()}))}async approveJob(e){await (0,s.updateDoc)((0,s.doc)(t.db,"jobPostings",e),{status:"published",updatedAt:(0,s.serverTimestamp)()})}async rejectJob(e){await (0,s.updateDoc)((0,s.doc)(t.db,"jobPostings",e),{status:"draft",updatedAt:(0,s.serverTimestamp)()})}async getPendingApplications(){let e=(0,s.query)((0,s.collection)(t.db,"applications"),(0,s.where)("status","==","pending_admin"),(0,s.orderBy)("createdAt","asc"));return(await (0,s.getDocs)(e)).docs.map(e=>({id:e.id,...e.data()}))}async getApplicationDetails(e){let a=await (0,s.getDoc)((0,s.doc)(t.db,"jobPostings",e.jobId)),i=await (0,s.getDoc)((0,s.doc)(t.db,"students",e.studentId)),l=await (0,s.getDoc)((0,s.doc)(t.db,"companies",e.companyId));return{job:a.exists()?a.data():null,student:i.exists()?i.data():null,company:l.exists()?l.data():null}}async approveApplication(e){}async getAllCompanies(){return(await (0,s.getDocs)((0,s.collection)(t.db,"companies"))).docs.map(e=>({...e.data()}))}};e.s(["adminService",0,a])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},17296,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645),i=e.i(24696),l=e.i(39964),c=e.i(31278),r=e.i(61911),n=e.i(42920),o=e.i(63727),d=e.i(78583),p=e.i(69638),u=e.i(22016);function x(){let[e,s]=(0,a.useState)(null),[x,g]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{!async function(){try{let e=await i.adminService.getStats();s(e)}catch(e){console.error(e)}finally{g(!1)}}()},[]),x)?(0,t.jsx)("div",{className:"flex justify-center p-12",children:(0,t.jsx)(c.Loader2,{className:"animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"ダッシュボード"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(m,{icon:(0,t.jsx)(n.Building,{}),label:"登録企業数",value:e?.totalCompanies,color:"bg-blue-500"}),(0,t.jsx)(m,{icon:(0,t.jsx)(r.Users,{}),label:"登録学生数",value:e?.totalUsers,color:"bg-indigo-500"}),(0,t.jsx)(m,{icon:(0,t.jsx)(p.CheckCircle,{}),label:"マッチング成立数",value:e?.totalMatches,color:"bg-green-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Card,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,t.jsx)(o.Briefcase,{size:20,className:"text-orange-500"}),"求人の状況"]}),(0,t.jsx)(u.default,{href:"/admin/jobs",className:"text-sm text-blue-600 hover:underline",children:"すべて見る"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("span",{className:"block text-2xl font-bold text-orange-600",children:e?.pendingJobs}),(0,t.jsx)("span",{className:"text-xs text-orange-800 font-bold",children:"承認待ち"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("span",{className:"block text-2xl font-bold text-gray-600",children:e?.activeJobs}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"公開中"})]})]})]}),(0,t.jsxs)(l.Card,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{size:20,className:"text-purple-500"}),"応募の状況"]}),(0,t.jsx)(u.default,{href:"/admin/applications",className:"text-sm text-blue-600 hover:underline",children:"すべて見る"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,t.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("span",{className:"block text-2xl font-bold text-purple-600",children:e?.pendingApplications}),(0,t.jsx)("span",{className:"text-xs text-purple-800 font-bold",children:"管理者承認待ち"})]})})]})]})]})}function m(e){let a,i,c,r,n,o=(0,s.c)(13),{icon:d,label:p,value:u,color:x}=e,m=`p-3 rounded-lg text-white ${x}`;return o[0]!==d||o[1]!==m?(a=(0,t.jsx)("div",{className:m,children:d}),o[0]=d,o[1]=m,o[2]=a):a=o[2],o[3]!==p?(i=(0,t.jsx)("p",{className:"text-sm text-gray-500",children:p}),o[3]=p,o[4]=i):i=o[4],o[5]!==u?(c=(0,t.jsx)("p",{className:"text-2xl font-bold",children:u}),o[5]=u,o[6]=c):c=o[6],o[7]!==i||o[8]!==c?(r=(0,t.jsxs)("div",{children:[i,c]}),o[7]=i,o[8]=c,o[9]=r):r=o[9],o[10]!==a||o[11]!==r?(n=(0,t.jsxs)(l.Card,{className:"p-6 flex items-center gap-4",children:[a,r]}),o[10]=a,o[11]=r,o[12]=n):n=o[12],n}e.s(["default",()=>x])}]);