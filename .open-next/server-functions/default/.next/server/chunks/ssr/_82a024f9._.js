module.exports=[62067,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("glass rounded-2xl p-6 transition-all duration-300",a),...c}));e.displayName="Card",a.s(["Card",0,e])},22288,a=>{"use strict";var b=a.i(20237);a.i(69387);var c=a.i(60574);let d=new class{async getStats(){try{let a=(0,c.collection)(b.db,"users"),d=(0,c.collection)(b.db,"companies"),e=(0,c.collection)(b.db,"jobPostings"),f=(0,c.collection)(b.db,"applications"),g=(0,c.collection)(b.db,"matches"),h=await (0,c.getCountFromServer)(a),i=await (0,c.getCountFromServer)(d),j=await (0,c.getCountFromServer)((0,c.query)(e,(0,c.where)("status","==","pending_approval"))),k=await (0,c.getCountFromServer)((0,c.query)(e,(0,c.where)("status","==","published"))),l=await (0,c.getCountFromServer)((0,c.query)(f,(0,c.where)("status","==","pending_admin"))),m=await (0,c.getCountFromServer)(g);return{totalUsers:h.data().count,totalCompanies:i.data().count,pendingJobs:j.data().count,activeJobs:k.data().count,pendingApplications:l.data().count,totalMatches:m.data().count}}catch(a){throw console.error("AdminService.getStats error:",a),a}}async getPendingJobs(){let a=(0,c.query)((0,c.collection)(b.db,"jobPostings"),(0,c.where)("status","==","pending_approval"),(0,c.orderBy)("createdAt","asc"));return(await (0,c.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()}))}async approveJob(a){await (0,c.updateDoc)((0,c.doc)(b.db,"jobPostings",a),{status:"published",updatedAt:(0,c.serverTimestamp)()})}async rejectJob(a){await (0,c.updateDoc)((0,c.doc)(b.db,"jobPostings",a),{status:"draft",updatedAt:(0,c.serverTimestamp)()})}async getPendingApplications(){let a=(0,c.query)((0,c.collection)(b.db,"applications"),(0,c.where)("status","==","pending_admin"),(0,c.orderBy)("createdAt","asc"));return(await (0,c.getDocs)(a)).docs.map(a=>({id:a.id,...a.data()}))}async getApplicationDetails(a){let d=await (0,c.getDoc)((0,c.doc)(b.db,"jobPostings",a.jobId)),e=await (0,c.getDoc)((0,c.doc)(b.db,"students",a.studentId)),f=await (0,c.getDoc)((0,c.doc)(b.db,"companies",a.companyId));return{job:d.exists()?d.data():null,student:e.exists()?e.data():null,company:f.exists()?f.data():null}}async approveApplication(a){}async getAllCompanies(){return(await (0,c.getDocs)((0,c.collection)(b.db,"companies"))).docs.map(a=>({...a.data()}))}};a.s(["adminService",0,d])},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},63056,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(22288),e=a.i(62067),f=a.i(96221),g=a.i(60246),h=a.i(63910),i=a.i(41961),j=a.i(4720),k=a.i(16201),l=a.i(38246);function m(){let[a,m]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{!async function(){try{let a=await d.adminService.getStats();m(a)}catch(a){console.error(a)}finally{p(!1)}}()},[]),o)?(0,b.jsx)("div",{className:"flex justify-center p-12",children:(0,b.jsx)(f.Loader2,{className:"animate-spin"})}):(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"ダッシュボード"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(n,{icon:(0,b.jsx)(h.Building,{}),label:"登録企業数",value:a?.totalCompanies,color:"bg-blue-500"}),(0,b.jsx)(n,{icon:(0,b.jsx)(g.Users,{}),label:"登録学生数",value:a?.totalUsers,color:"bg-indigo-500"}),(0,b.jsx)(n,{icon:(0,b.jsx)(k.CheckCircle,{}),label:"マッチング成立数",value:a?.totalMatches,color:"bg-green-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,b.jsx)(i.Briefcase,{size:20,className:"text-orange-500"}),"求人の状況"]}),(0,b.jsx)(l.default,{href:"/admin/jobs",className:"text-sm text-blue-600 hover:underline",children:"すべて見る"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[(0,b.jsx)("span",{className:"block text-2xl font-bold text-orange-600",children:a?.pendingJobs}),(0,b.jsx)("span",{className:"text-xs text-orange-800 font-bold",children:"承認待ち"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,b.jsx)("span",{className:"block text-2xl font-bold text-gray-600",children:a?.activeJobs}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"公開中"})]})]})]}),(0,b.jsxs)(e.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,b.jsx)(j.FileText,{size:20,className:"text-purple-500"}),"応募の状況"]}),(0,b.jsx)(l.default,{href:"/admin/applications",className:"text-sm text-blue-600 hover:underline",children:"すべて見る"})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,b.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,b.jsx)("span",{className:"block text-2xl font-bold text-purple-600",children:a?.pendingApplications}),(0,b.jsx)("span",{className:"text-xs text-purple-800 font-bold",children:"管理者承認待ち"})]})})]})]})]})}function n({icon:a,label:c,value:d,color:f}){return(0,b.jsxs)(e.Card,{className:"p-6 flex items-center gap-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg text-white ${f}`,children:a}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:c}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:d})]})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=_82a024f9._.js.map