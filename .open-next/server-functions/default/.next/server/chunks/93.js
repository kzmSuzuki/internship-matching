exports.id=93,exports.ids=[93],exports.modules={92862:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63642,23)),Promise.resolve().then(s.t.bind(s,87586,23)),Promise.resolve().then(s.t.bind(s,47838,23)),Promise.resolve().then(s.t.bind(s,58057,23)),Promise.resolve().then(s.t.bind(s,77741,23)),Promise.resolve().then(s.t.bind(s,13118,23))},21073:(e,t,s)=>{Promise.resolve().then(s.bind(s,222))},59574:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Z});var a=s(97247),r=s(79906),l=s(34178),n=s(40677),i=s(56460),d=s(49256),o=s(42310),c=s(66903),x=s(5271),u=s(17316),m=s(19400);let h=[{icon:i.Z,label:"ホーム",href:"/"},{icon:d.Z,label:"求人検索",href:"/student/jobs"},{icon:o.Z,label:"企業求人",href:"/company/jobs"},{icon:c.Z,label:"応募管理",href:"/student/applications"},{icon:x.Z,label:"プロフィール",href:"/student/profile"},{icon:u.Z,label:"設定",href:"/settings"}];function p(){let e=(0,l.usePathname)();return(0,a.jsxs)("aside",{className:"fixed left-4 top-4 z-40 h-[calc(100vh-2rem)] w-18 glass rounded-2xl border-r-0 flex flex-col items-center py-6 transition-all duration-300",children:[a.jsx("div",{className:"mb-8 p-2 rounded-xl bg-[#161B33]/10",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-[#161B33]"})}),a.jsx("nav",{className:"flex-1 flex flex-col gap-4 w-full px-2",children:h.map(t=>{let s=e===t.href;return(0,a.jsxs)(r.default,{href:t.href,className:(0,n.cn)("relative group flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-200",s?"bg-[#161B33] text-white shadow-md shadow-[#161B33]/20":"text-gray-500 hover:bg-[#161B33]/10 hover:text-[#161B33]"),children:[a.jsx(t.icon,{size:22,strokeWidth:s?2.5:2}),a.jsx("span",{className:"absolute left-14 px-2 py-1 bg-[#1E3A5F] text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all whitespace-nowrap z-50",children:t.label})]},t.href)})}),a.jsx("button",{className:"mt-auto p-3 text-gray-500 hover:text-[#F56565] hover:bg-[#F56565]/10 rounded-xl transition-all",children:a.jsx(m.Z,{size:22})})]})}var f=s(222),b=s(94082),g=s(62216),v=s(28964);class j{async markAsRead(e){let t=(0,g.JU)(b.db,"notifications",e);await (0,g.r7)(t,{read:!0,updatedAt:(0,g.Bt)()})}async markAllAsRead(e){let t=(0,g.IO)((0,g.hJ)(b.db,"notifications"),(0,g.ar)("userId","==",e),(0,g.ar)("read","==",!1)),s=await (0,g.PL)(t);if(s.empty)return;let a=(0,g.qs)(b.db);s.docs.forEach(e=>{a.update(e.ref,{read:!0,updatedAt:(0,g.Bt)()})}),await a.commit()}}let y=new j;var N=s(81299),w=s(48799),A=s(67325),k=s(81577);function P(){let{user:e}=(0,f.a)(),{notifications:t,unreadCount:s}=function(e){let[t,s]=(0,v.useState)([]),[a,r]=(0,v.useState)(0),[l,n]=(0,v.useState)(!0);return{notifications:t,unreadCount:a,loading:l}}(e?.id),[r,n]=(0,v.useState)(!1),i=(0,l.useRouter)(),d=(0,v.useRef)(null),o=async e=>{e.read||await y.markAsRead(e.id),n(!1),e.link&&i.push(e.link)},c=async()=>{e&&await y.markAllAsRead(e.id)};return e?(0,a.jsxs)("div",{className:"relative",ref:d,children:[(0,a.jsxs)("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>n(!r),children:[a.jsx(N.Z,{size:24}),s>0&&a.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full transform translate-x-1/4 -translate-y-1/4",children:s>9?"9+":s})]}),r&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 border-b bg-gray-50",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"通知"}),s>0&&(0,a.jsxs)("button",{onClick:c,className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[a.jsx(w.Z,{size:12}),"すべて既読にする"]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===t.length?a.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"通知はありません"}):a.jsx("ul",{className:"divide-y divide-gray-100",children:t.map(e=>a.jsx("li",{className:`p-3 hover:bg-gray-50 cursor-pointer transition-colors ${e.read?"":"bg-blue-50/50"}`,onClick:()=>o(e),children:(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("div",{className:"mt-1",children:e.read?a.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}):a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:e.title}),a.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-1",children:e.message}),a.jsx("p",{className:"text-[10px] text-gray-400",children:e.createdAt?(0,A.Q)(e.createdAt.toDate(),{addSuffix:!0,locale:k.ja}):"-"})]})]})},e.id))})}),a.jsx("div",{className:"p-2 border-t bg-gray-50 text-center",children:a.jsx("button",{onClick:()=>i.push("/settings/notifications"),className:"text-xs text-gray-500 hover:text-gray-700",children:"通知設定"})})]})]}):null}function S(){let{user:e}=(0,f.a)();return(0,a.jsxs)("header",{className:"sticky top-0 z-30 w-full h-16 px-6 flex items-center justify-between glass border-b-0 rounded-2xl mx-auto max-w-[98%] mt-2",children:[a.jsx("div",{className:"flex items-center gap-4 flex-1",children:(0,a.jsxs)("div",{className:"relative w-64 md:w-96 hidden md:block",children:[a.jsx(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"検索...",className:"w-full h-10 pl-10 pr-4 rounded-full bg-white/50 border-none focus:ring-2 focus:ring-[#161B33]/20 text-sm shadow-sm backdrop-blur-sm transition-all"})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(P,{}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[(0,a.jsxs)("div",{className:"text-right hidden sm:block",children:[a.jsx("p",{className:"text-sm font-medium text-[#161B33]",children:e?.name||"ゲスト"}),a.jsx("p",{className:"text-xs text-gray-500",children:e?.role==="student"?"学生アカウント":e?.role==="company"?"企業アカウント":e?.role==="admin"?"管理者":"ゲスト"})]}),a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#161B33] to-[#2D5A8E] shadow-md border-2 border-white cursor-pointer"})]})]})]})}function Z({children:e}){return(0,a.jsxs)("div",{className:"min-h-screen text-[#161B33] font-sans",children:[a.jsx(p,{}),(0,a.jsxs)("div",{className:"pl-24 flex flex-col min-h-screen transition-all duration-300",children:[a.jsx(S,{}),a.jsx("main",{className:"flex-1 p-6 md:p-8 overflow-x-hidden",children:a.jsx("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e})})]})]})}},17596:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(97247),r=s(28964),l=s(40677);let n=(0,r.forwardRef)(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,l.cn)("glass rounded-2xl p-6 transition-all duration-300",e),...t}));n.displayName="Card"},222:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>o,a:()=>c});var a=s(97247),r=s(28964),l=s(85503);s(62216);var n=s(94082),i=s(34178);let d=(0,r.createContext)({user:null,firebaseUser:null,loading:!0,logout:async()=>{}});function o({children:e}){let[t,s]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),[x,u]=(0,r.useState)(!0),m=(0,i.useRouter)(),h=async()=>{await (0,l.w7)(n.I),s(null),c(null),m.push("/login")};return a.jsx(d.Provider,{value:{user:t,firebaseUser:o,loading:x,logout:h},children:e})}let c=()=>(0,r.useContext)(d)},94082:(e,t,s)=>{"use strict";s.d(t,{I:()=>i,V:()=>o,db:()=>d});var a=s(68132),r=s(85503),l=s(62216);let n=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyDL2GylAt2YVRSstEpp4hucbcqw7RuVk4o",authDomain:"internship-matching-app.firebaseapp.com",projectId:"internship-matching-app",messagingSenderId:"299078518812",appId:"1:299078518812:web:03ad34bb4323c497a677d9"}):(0,a.C6)()[0],i=(0,r.v0)(n),d=(0,l.ad)(n),o=new r.hJ},40677:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(61929),r=s(35770);function l(...e){return(0,r.m6)((0,a.W)(e))}},15539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>d});var a=s(72051),r=s(23635),l=s.n(r);s(5023);var n=s(45347);let i=(0,n.createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/contexts/AuthContext.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/contexts/AuthContext.tsx#useAuth`);let d={title:"Internship Matching",description:"Internship Matching Platform"};function o({children:e}){return a.jsx("html",{lang:"ja",children:a.jsx("body",{className:l().className,children:a.jsx(i,{children:e})})})}},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(54564);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};