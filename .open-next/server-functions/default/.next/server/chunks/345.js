exports.id=345,exports.ids=[345],exports.modules={92862:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,63642,23)),Promise.resolve().then(a.t.bind(a,87586,23)),Promise.resolve().then(a.t.bind(a,47838,23)),Promise.resolve().then(a.t.bind(a,58057,23)),Promise.resolve().then(a.t.bind(a,77741,23)),Promise.resolve().then(a.t.bind(a,13118,23))},21073:(e,t,a)=>{Promise.resolve().then(a.bind(a,222))},18305:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S});var s=a(97247),r=a(79906),l=a(34178),i=a(40677),n=a(222),o=a(56460),d=a(49256),c=a(66903),u=a(5271),x=a(21697),h=a(42310),m=a(57989),f=a(62752),p=a(77256),b=a(31500),g=a(19400);function v(){let e=(0,l.usePathname)(),{user:t,logout:a}=(0,n.a)();console.log("Sidebar user role:",t?.role);let v=(()=>{if(!t)return[];switch(t.role){case"student":return[{icon:o.Z,label:"ホーム",href:"/"},{icon:d.Z,label:"求人検索",href:"/student/jobs"},{icon:c.Z,label:"応募履歴",href:"/student/applications"},{icon:u.Z,label:"プロフィール",href:"/student/profile"}];case"company":return[{icon:x.Z,label:"ダッシュボード",href:"/company/dashboard"},{icon:h.Z,label:"自社求人管理",href:"/company/jobs"},{icon:m.Z,label:"応募者管理",href:"/company/applicants"},{icon:u.Z,label:"企業情報",href:"/company/profile"}];case"admin":return[{icon:x.Z,label:"ダッシュボード",href:"/admin/dashboard"},{icon:f.Z,label:"求人承認",href:"/admin/jobs"},{icon:c.Z,label:"応募管理",href:"/admin/applications"},{icon:m.Z,label:"ユーザー管理",href:"/admin/users"},{icon:p.Z,label:"企業管理",href:"/admin/companies"},{icon:b.Z,label:"インターン実施状況",href:"/admin/matches"}];default:return[{icon:o.Z,label:"ホーム",href:"/"}]}})();return(0,s.jsxs)("aside",{className:"fixed left-4 top-4 z-40 h-[calc(100vh-2rem)] w-18 glass rounded-2xl border-r-0 flex flex-col items-center py-6 transition-all duration-300",children:[s.jsx("div",{className:"mb-8 p-2 rounded-xl bg-[#161B33]/10",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-[#161B33]"})}),s.jsx("nav",{className:"flex-1 flex flex-col gap-4 w-full px-2",children:v.map(t=>{let a=e===t.href||e.startsWith(t.href+"/");return(0,s.jsxs)(r.default,{href:t.href,className:(0,i.cn)("relative group flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-200",a?"bg-[#161B33] text-white shadow-md shadow-[#161B33]/20":"text-gray-500 hover:bg-[#161B33]/10 hover:text-[#161B33]"),children:[s.jsx(t.icon,{size:22,strokeWidth:a?2.5:2}),s.jsx("span",{className:"absolute left-14 px-2 py-1 bg-[#1E3A5F] text-white text-xs rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all whitespace-nowrap z-50",children:t.label})]},t.href)})}),s.jsx("button",{onClick:a,className:"mt-auto p-3 text-gray-500 hover:text-[#F56565] hover:bg-[#F56565]/10 rounded-xl transition-all",children:s.jsx(g.Z,{size:22})})]})}var y=a(95525),j=a(81299),w=a(48799),N=a(28964),Z=a(67325),A=a(81577);function k(){let{user:e}=(0,n.a)(),{notifications:t,unreadCount:a}=(0,y.z)(e?.id,e?.role),[r,i]=(0,N.useState)(!1),o=(0,l.useRouter)(),d=(0,N.useRef)(null),c=async e=>{e.read||await y.B.markAsRead(e.id),i(!1),e.link&&o.push(e.link)},u=async()=>{e&&await y.B.markAllAsRead(e.id)};return e?(0,s.jsxs)("div",{className:"relative",ref:d,children:[(0,s.jsxs)("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>i(!r),children:[s.jsx(j.Z,{size:24}),a>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full transform translate-x-1/4 -translate-y-1/4",children:a>9?"9+":a})]}),r&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 border-b bg-gray-50",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"通知"}),a>0&&(0,s.jsxs)("button",{onClick:u,className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(w.Z,{size:12}),"すべて既読にする"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===t.length?s.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"通知はありません"}):s.jsx("ul",{className:"divide-y divide-gray-100",children:t.map(e=>s.jsx("li",{className:`p-3 hover:bg-gray-50 cursor-pointer transition-colors ${e.read?"":"bg-blue-50/50"}`,onClick:()=>c(e),children:(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("div",{className:"mt-1",children:e.read?s.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}):s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:e.title}),s.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mb-1",children:e.message}),s.jsx("p",{className:"text-[10px] text-gray-400",children:e.createdAt?(0,Z.Q)(e.createdAt.toDate(),{addSuffix:!0,locale:A.ja}):"-"})]})]})},e.id))})}),s.jsx("div",{className:"p-2 border-t bg-gray-50 text-center",children:s.jsx("button",{onClick:()=>o.push("/settings/notifications"),className:"text-xs text-gray-500 hover:text-gray-700",children:"通知設定"})})]})]}):null}function B(){let{user:e}=(0,n.a)();return(0,s.jsxs)("header",{className:"sticky top-0 z-30 w-full h-16 px-6 flex items-center justify-between glass border-b-0 rounded-2xl mx-auto max-w-[98%] mt-2",children:[s.jsx("div",{className:"flex items-center gap-4 flex-1",children:(0,s.jsxs)("div",{className:"relative w-64 md:w-96 hidden md:block",children:[s.jsx(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"検索...",className:"w-full h-10 pl-10 pr-4 rounded-full bg-white/50 border-none focus:ring-2 focus:ring-[#161B33]/20 text-sm shadow-sm backdrop-blur-sm transition-all"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(k,{}),(0,s.jsxs)(r.default,{href:e?.role==="student"?"/student/profile":e?.role==="company"?"/company/profile":"/",className:"flex items-center gap-3 pl-4 border-l border-gray-200 hover:opacity-80 transition-opacity",children:[(0,s.jsxs)("div",{className:"text-right hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-[#161B33]",children:e?.name||"ゲスト"}),s.jsx("p",{className:"text-xs text-gray-500",children:e?.role==="student"?"学生アカウント":e?.role==="company"?"企業アカウント":e?.role==="admin"?"管理者":"ゲスト"})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#161B33] to-[#2D5A8E] shadow-md border-2 border-white cursor-pointer"})]})]})]})}function S({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen text-[#161B33] font-sans",children:[s.jsx(v,{}),(0,s.jsxs)("div",{className:"pl-24 flex flex-col min-h-screen transition-all duration-300",children:[s.jsx(B,{}),s.jsx("main",{className:"flex-1 p-6 md:p-8 overflow-x-hidden",children:s.jsx("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e})})]})]})}},17596:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(97247),r=a(28964),l=a(40677);let i=(0,r.forwardRef)(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,l.cn)("glass rounded-2xl p-6 transition-all duration-300",e),...t}));i.displayName="Card"},222:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>c,a:()=>u});var s=a(97247),r=a(28964),l=a(85503),i=a(62216),n=a(94082),o=a(34178);let d=(0,r.createContext)({user:null,firebaseUser:null,loading:!0,emailVerified:!1,logout:async()=>{},refreshUser:async()=>{}});function c({children:e}){let[t,a]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0),[m,f]=(0,r.useState)(!1),p=(0,o.useRouter)(),b=async e=>{try{let t=await (0,i.QT)((0,i.JU)(n.db,"users",e.uid));t.exists()?a({id:t.id,...t.data()}):a(null)}catch(e){console.error("Error fetching user data:",e),a(null)}},g=async()=>{await (0,l.w7)(n.I),a(null),u(null),f(!1),p.push("/login")},v=async()=>{let e=n.I.currentUser;e&&(await e.reload(),f(e.emailVerified),await b(e))};return s.jsx(d.Provider,{value:{user:t,firebaseUser:c,loading:x,emailVerified:m,logout:g,refreshUser:v},children:e})}let u=()=>(0,r.useContext)(d)},94082:(e,t,a)=>{"use strict";a.d(t,{I:()=>n,V:()=>d,db:()=>o});var s=a(68132),r=a(85503),l=a(62216);let i=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyDL2GylAt2YVRSstEpp4hucbcqw7RuVk4o",authDomain:"internship-matching-app.firebaseapp.com",projectId:"internship-matching-app",messagingSenderId:"299078518812",appId:"1:299078518812:web:03ad34bb4323c497a677d9"}):(0,s.C6)()[0],n=(0,r.v0)(i),o=(0,l.ad)(i),d=new r.hJ},40677:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(61929),r=a(35770);function l(...e){return(0,r.m6)((0,s.W)(e))}},95525:(e,t,a)=>{"use strict";a.d(t,{B:()=>n,z:()=>o});var s=a(94082),r=a(62216),l=a(28964);class i{async markAsRead(e){let t=(0,r.JU)(s.db,"notifications",e);await (0,r.r7)(t,{read:!0,updatedAt:(0,r.Bt)()})}async markAllAsRead(e){let t=(0,r.IO)((0,r.hJ)(s.db,"notifications"),(0,r.ar)("userId","==",e),(0,r.ar)("read","==",!1)),a=await (0,r.PL)(t);if(a.empty)return;let l=(0,r.qs)(s.db);a.docs.forEach(e=>{l.update(e.ref,{read:!0,updatedAt:(0,r.Bt)()})}),await l.commit()}async createNotification(e,t,a,l,i){try{await (0,r.ET)((0,r.hJ)(s.db,"notifications"),{userId:e,title:t,message:a,type:l,link:i,read:!1,createdAt:(0,r.Bt)()})}catch(e){console.error("Error creating notification:",e)}}}let n=new i;function o(e,t){let[a,s]=(0,l.useState)([]),[r,i]=(0,l.useState)(0),[n,o]=(0,l.useState)(!0);return{notifications:a,unreadCount:r,loading:n}}},15539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>o});var s=a(72051),r=a(23635),l=a.n(r);a(5023);var i=a(45347);let n=(0,i.createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/contexts/AuthContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/contexts/AuthContext.tsx#useAuth`);let o={title:"Internship Matching",description:"Internship Matching Platform"};function d({children:e}){return s.jsx("html",{lang:"ja",children:s.jsx("body",{className:l().className,children:s.jsx(n,{children:e})})})}},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(54564);let r=e=>[{type:"image/x-icon",sizes:"48x48",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};