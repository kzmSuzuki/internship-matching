(()=>{var e={};e.id=552,e.ids=[552],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},15915:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(749),s(5519),s(90996),s(15539);var r=s(30170),a=s(45002),i=s(83876),n=s.n(i),l=s(66299),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["(admin)",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,749)),"/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(admin)/admin/users/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5519)),"/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(admin)/admin/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,15539)),"/Users/kazuma/Documents/dev/intern/internship-matching/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(admin)/admin/users/page.tsx"],x="/(admin)/admin/users/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(admin)/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},92862:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63642,23)),Promise.resolve().then(s.t.bind(s,87586,23)),Promise.resolve().then(s.t.bind(s,47838,23)),Promise.resolve().then(s.t.bind(s,58057,23)),Promise.resolve().then(s.t.bind(s,77741,23)),Promise.resolve().then(s.t.bind(s,13118,23))},21073:(e,t,s)=>{Promise.resolve().then(s.bind(s,222))},41322:(e,t,s)=>{Promise.resolve().then(s.bind(s,64259))},87205:(e,t,s)=>{Promise.resolve().then(s.bind(s,88964))},32348:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9148).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},33841:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9148).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},5271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9148).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},64259:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(97247),a=s(222),i=s(34178),n=s(28964),l=s(79906),d=s(8749),c=s(21697),o=s(42310),x=s(66903),u=s(31500),m=s(57989),h=s(77256),p=s(19400),g=s(55039);function f({children:e}){let{user:t,loading:s,logout:l}=(0,a.a)();(0,i.useRouter)();let[f,v]=(0,n.useState)(!1);return s||!f?r.jsx("div",{className:"h-screen flex items-center justify-center",children:r.jsx(d.Z,{className:"animate-spin"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 flex",children:[(0,r.jsxs)("aside",{className:"w-64 bg-[#1E3A5F] text-white flex flex-col fixed h-full",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-white/10",children:[r.jsx("h1",{className:"text-xl font-bold",children:"Admin Console"}),r.jsx("p",{className:"text-xs opacity-70 mt-1",children:"インターンシップ管理"})]}),(0,r.jsxs)("nav",{className:"flex-1 p-4 space-y-2",children:[r.jsx(b,{href:"/admin/dashboard",icon:r.jsx(c.Z,{size:18}),label:"ダッシュボード"}),r.jsx(b,{href:"/admin/jobs",icon:r.jsx(o.Z,{size:18}),label:"求人管理"}),r.jsx(b,{href:"/admin/applications",icon:r.jsx(x.Z,{size:18}),label:"応募承認"}),r.jsx(b,{href:"/admin/matches",icon:r.jsx(u.Z,{size:18}),label:"インターン実施状況"}),r.jsx("div",{className:"pt-4 pb-2 text-xs font-bold opacity-50 uppercase tracking-widest",children:"Management"}),r.jsx(b,{href:"/admin/users",icon:r.jsx(m.Z,{size:18}),label:"ユーザー管理"}),r.jsx(b,{href:"/admin/companies",icon:r.jsx(h.Z,{size:18}),label:"企業管理"})]}),r.jsx("div",{className:"p-4 border-t border-white/10",children:(0,r.jsxs)(g.z,{variant:"ghost",className:"w-full justify-start text-white hover:bg-white/10 hover:text-white",onClick:l,children:[r.jsx(p.Z,{size:18,className:"mr-2"}),"ログアウト"]})})]}),r.jsx("main",{className:"ml-64 flex-1 p-8",children:e})]})}function b({href:e,icon:t,label:s}){return(0,r.jsxs)(l.default,{href:e,className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-colors",children:[t,r.jsx("span",{children:s})]})}},88964:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(97247),a=s(28964),i=s(62216),n=s(94082),l=s(17596),d=s(55039),c=s(76219),o=s(4193),x=s(8749),u=s(5271),m=s(32348),h=s(33841),p=s(96369);function g(){let[e,t]=(0,a.useState)([]),[s,g]=(0,a.useState)(!0),[f,b]=(0,a.useState)(null),[v,j]=(0,a.useState)(""),y=async e=>{if(confirm("このユーザーを削除してもよろしいですか？取り消せません。"))try{await (0,i.oe)((0,i.JU)(n.db,"students",e)),await (0,i.oe)((0,i.JU)(n.db,"users",e)),t(t=>t.filter(t=>t.userId!==e)),b(null)}catch(e){console.error(e),alert("削除に失敗しました")}},N=async(e,s)=>{if(confirm(`ユーザーのロールを "${s}" に変更しますか？
権限が即座に変更されます。`))try{await (0,i.r7)((0,i.JU)(n.db,"users",e),{role:s}),t(t=>t.map(t=>t.userId===e?{...t,role:s}:t)),f?.userId===e&&b(e=>e?{...e,role:s}:null),alert("ロールを変更しました")}catch(e){console.error(e),alert("変更に失敗しました")}},w=e.filter(e=>{if(!v)return!0;let t=v.toLowerCase(),s=e.name?.toLowerCase()||"",r=e.university?.toLowerCase()||"";return s.includes(t)||r.includes(t)});return s?r.jsx("div",{className:"flex justify-center p-12",children:r.jsx(x.Z,{className:"animate-spin text-[#1E3A5F]"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-[#1E3A5F]",children:"登録学生一覧"}),r.jsx("p",{className:"text-gray-500",children:"プラットフォームに登録されている全学生ユーザー"})]}),r.jsx("input",{type:"text",placeholder:"名前・大学名で検索...",className:"border border-gray-300 rounded-lg px-4 py-2 text-sm w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-[#1E3A5F]",value:v,onChange:e=>j(e.target.value)})]}),0===w.length?r.jsx(l.Z,{className:"p-12 text-center text-gray-500",children:r.jsx("p",{children:"条件に一致する学生はいません。"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>(0,r.jsxs)(l.Z,{className:"p-6 flex flex-col h-full hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-xl",children:e.name?e.name.charAt(0):r.jsx(u.Z,{})}),(0,r.jsxs)("div",{className:"overflow-hidden",children:[r.jsx("h3",{className:"text-lg font-bold text-[#1E3A5F] truncate",children:e.name||"No Name"}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:[e.university," ",e.grade]})]})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-3 mb-4",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-2 truncate",children:e.email||"Email不明"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills?.slice(0,5).map((e,t)=>r.jsx(c.C,{variant:"outline",className:"text-xs bg-gray-50",children:e},t))})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mb-4",children:["登録日: ",e.createdAt?(0,p.WU)(e.createdAt.toDate(),"yyyy/MM/dd"):"-"]}),r.jsx("div",{className:"mt-auto pt-4 border-t",children:r.jsx(d.z,{variant:"outline",className:"w-full",onClick:()=>b(e),children:"詳細を確認"})})]},e.userId))}),r.jsx(o.u,{isOpen:!!f,onClose:()=>b(null),title:"学生プロフィール詳細",children:f&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-2xl",children:f.name?f.name.charAt(0):r.jsx(u.Z,{})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-[#1E3A5F]",children:f.name}),r.jsx("p",{className:"text-gray-500",children:f.email}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[f.university," ",f.grade]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:"自己紹介 / BIO"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-sm whitespace-pre-wrap leading-relaxed",children:f.bio||"未入力"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:"スキル"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:f.skills?.map((e,t)=>r.jsx(c.C,{variant:"outline",className:"bg-white",children:e},t))})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:"リンク / ポートフォリオ"}),f.links&&f.links.length>0?r.jsx("ul",{className:"space-y-2",children:f.links.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center gap-2",children:[r.jsx(m.Z,{size:14,className:"text-blue-500"}),r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm truncate max-w-full block",children:e})]},t))}):r.jsx("p",{className:"text-sm text-gray-400",children:"リンクはありません"})]}),(0,r.jsxs)("div",{className:"pt-4 border-t text-xs text-gray-400 text-right",children:["User ID: ",f.userId]}),(0,r.jsxs)("div",{className:"pt-4 border-t bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-bold text-[#1E3A5F] mb-2",children:"ロール変更 (管理者機能)"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm bg-white",value:f.role||"student",onChange:e=>N(f.userId,e.target.value),children:[r.jsx("option",{value:"student",children:"Student (学生)"}),r.jsx("option",{value:"company",children:"Company (企業)"}),r.jsx("option",{value:"admin",children:"Admin (管理者)"})]}),r.jsx("span",{className:"text-xs text-red-500",children:"※慎重に操作してください"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-2",children:[(0,r.jsxs)(d.z,{variant:"ghost",className:"text-red-500 hover:bg-red-50 hover:text-red-600",onClick:()=>y(f.userId),children:[r.jsx(h.Z,{size:16,className:"mr-2"})," 削除"]}),r.jsx(d.z,{variant:"secondary",onClick:()=>b(null),children:"閉じる"})]})]})})]})}},76219:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(97247),a=s(28964),i=s(40677);let n=(0,a.forwardRef)(({className:e,variant:t="default",...s},a)=>r.jsx("span",{ref:a,className:(0,i.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{default:"bg-[#1E3A5F]/10 text-[#161B33]",success:"bg-[#48BB78]/10 text-[#48BB78]",warning:"bg-[#ED8936]/10 text-[#ED8936]",error:"bg-[#F56565]/10 text-[#F56565]",outline:"border border-gray-200 text-gray-500"}[t],e),...s}));n.displayName="Badge"},55039:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var r=s(97247),a=s(28964),i=s(40677),n=s(8749);let l=(0,a.forwardRef)(({className:e,variant:t="primary",size:s="md",isLoading:a,children:l,disabled:d,...c},o)=>(0,r.jsxs)("button",{ref:o,className:(0,i.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-[#1E3A5F]/50 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-gradient-to-r from-[#161B33] to-[#142841] text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 border border-white/10",secondary:"glass-button text-[#1E3A5F] bg-white/40 hover:bg-white/60",outline:"glass-button border border-[#1E3A5F]/30 text-[#1E3A5F] hover:bg-[#1E3A5F]/5",ghost:"text-[#1E3A5F] hover:bg-[#1E3A5F]/10",danger:"glass-button bg-gradient-to-r from-[#F56565] to-[#E53E3E] text-white border-0"}[t],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[s],e),disabled:d||a,...c,children:[a&&r.jsx(n.Z,{className:"mr-2 h-4 w-4 animate-spin"}),l]}));l.displayName="Button"},17596:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(97247),a=s(28964),i=s(40677);let n=(0,a.forwardRef)(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("glass rounded-2xl p-6 transition-all duration-300",e),...t}));n.displayName="Card"},4193:(e,t,s)=>{"use strict";s.d(t,{u:()=>l});var r=s(97247);s(28964);var a=s(46817);let i=(0,s(9148).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var n=s(40677);function l({isOpen:e,onClose:t,title:s,children:l,className:d}){return e?(0,a.createPortal)(r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:(0,r.jsxs)("div",{className:(0,n.cn)("relative w-full max-w-lg transform rounded-2xl bg-white/80 backdrop-blur-2xl p-6 text-left align-middle shadow-2xl transition-all animate-in zoom-in-95 duration-200 border border-white/40",d),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s&&r.jsx("h3",{className:"text-lg font-medium leading-6 text-[#161B33]",children:s}),r.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-gray-100 transition-colors",children:r.jsx(i,{className:"h-5 w-5 text-gray-500"})})]}),r.jsx("div",{children:l})]})}),document.body):null}},222:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>o,a:()=>x});var r=s(97247),a=s(28964),i=s(85503),n=s(62216),l=s(94082),d=s(34178);let c=(0,a.createContext)({user:null,firebaseUser:null,loading:!0,emailVerified:!1,logout:async()=>{},refreshUser:async()=>{}});function o({children:e}){let[t,s]=(0,a.useState)(null),[o,x]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1),g=(0,d.useRouter)(),f=async e=>{try{let t=await (0,n.QT)((0,n.JU)(l.db,"users",e.uid));t.exists()?s({id:t.id,...t.data()}):s(null)}catch(e){console.error("Error fetching user data:",e),s(null)}},b=async()=>{await (0,i.w7)(l.I),s(null),x(null),p(!1),g.push("/login")},v=async()=>{let e=l.I.currentUser;e&&(await e.reload(),p(e.emailVerified),await f(e))};return r.jsx(c.Provider,{value:{user:t,firebaseUser:o,loading:u,emailVerified:h,logout:b,refreshUser:v},children:e})}let x=()=>(0,a.useContext)(c)},94082:(e,t,s)=>{"use strict";s.d(t,{I:()=>l,V:()=>c,db:()=>d});var r=s(68132),a=s(85503),i=s(62216);let n=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyDL2GylAt2YVRSstEpp4hucbcqw7RuVk4o",authDomain:"internship-matching-app.firebaseapp.com",projectId:"internship-matching-app",messagingSenderId:"299078518812",appId:"1:299078518812:web:03ad34bb4323c497a677d9"}):(0,r.C6)()[0],l=(0,a.v0)(n),d=(0,i.ad)(n),c=new a.hJ},40677:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(61929),a=s(35770);function i(...e){return(0,a.m6)((0,r.W)(e))}},5519:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(admin)/admin/layout.tsx#default`)},749:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(admin)/admin/users/page.tsx#default`)},15539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>d});var r=s(72051),a=s(23635),i=s.n(a);s(5023);var n=s(45347);let l=(0,n.createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/contexts/AuthContext.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/contexts/AuthContext.tsx#useAuth`);let d={title:"Internship Matching",description:"Internship Matching Platform"};function c({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{className:i().className,children:r.jsx(l,{children:e})})})}},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(54564);let a=e=>[{type:"image/x-icon",sizes:"48x48",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[379,24,564,790,906,557],()=>s(15915));module.exports=r})();