(()=>{var e={};e.id=613,e.ids=[613],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},57192:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(19884),s(1360),s(90996),s(15539);var r=s(30170),a=s(45002),i=s(83876),n=s.n(i),l=s(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["(company)",{children:["company",{children:["jobs",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,19884)),"/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(company)/company/jobs/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1360)),"/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(company)/company/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,15539)),"/Users/kazuma/Documents/dev/intern/internship-matching/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(company)/company/jobs/[id]/edit/page.tsx"],m="/(company)/company/jobs/[id]/edit/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(company)/company/jobs/[id]/edit/page",pathname:"/company/jobs/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55741:(e,t,s)=>{Promise.resolve().then(s.bind(s,65180))},17085:(e,t,s)=>{Promise.resolve().then(s.bind(s,81606))},20290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9148).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48169:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9148).Z)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},95389:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(9148).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},65180:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(97247),a=s(28964),i=s(222),n=s(62216),l=s(94082),o=s(55039),d=s(74633),c=s(17596),m=s(34178),u=s(8749),p=s(20290),x=s(62752),h=s(48169),f=s(66903);function b(){let{user:e}=(0,i.a)(),t=(0,m.useRouter)(),{id:s}=(0,m.useParams)(),[b,g]=(0,a.useState)(!0),[y,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[q,F]=(0,a.useState)(""),[P,A]=(0,a.useState)(""),[E,z]=(0,a.useState)(""),[S,Z]=(0,a.useState)(""),[D,_]=(0,a.useState)(null),[C,I]=(0,a.useState)(!1),[B,M]=(0,a.useState)(null),[U,G]=(0,a.useState)(""),R=async e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];if("application/pdf"!==t.type){alert("PDFファイルのみアップロード可能です");return}_(t),I(!0),N("");try{let e=new FormData;e.append("file",t);let s=await fetch("/api/pdf/upload",{method:"POST",body:e}),r=await s.json();if(r.error)throw Error(r.error);if(r.fileId)M(r.fileId);else throw Error("File ID not returned")}catch(e){console.error("Upload error:",e),N("PDFのアップロードに失敗しました: "+e.message),_(null)}finally{I(!1)}}},T=async r=>{if(r.preventDefault(),e&&(B||confirm("PDF募集要項なしで登録しますか？"))){j(!0);try{await (0,n.r7)((0,n.JU)(l.db,"jobPostings",s),{title:w,content:q,location:P,salary:E,requirements:S.split(",").map(e=>e.trim()).filter(Boolean),pdfFileId:B,updatedAt:(0,n.Bt)()}),"admin"===e.role?t.push("/admin/jobs"):t.push("/company/jobs")}catch(e){console.error("Error updating job:",e),N("求人の更新に失敗しました")}finally{j(!1)}}};return b?r.jsx("div",{className:"flex justify-center p-12",children:r.jsx(u.Z,{className:"animate-spin text-[#1E3A5F]"})}):v?r.jsx("div",{className:"p-12 text-center text-red-500",children:v}):(0,r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-[#1E3A5F]",children:"求人情報の編集"}),r.jsx("p",{className:"text-gray-500",children:"求人の内容を修正します"})]}),(0,r.jsxs)(c.Z,{className:"p-8",children:[v&&(0,r.jsxs)("div",{className:"bg-[#F56565]/10 text-[#F56565] p-3 rounded-lg text-sm mb-6 flex items-center gap-2",children:[r.jsx(p.Z,{size:16}),v]}),(0,r.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[r.jsx(d.I,{label:"求人タイトル",value:w,onChange:e=>k(e.target.value),required:!0,placeholder:"2026年夏インターンシップ (エンジニア職)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(d.I,{label:"勤務地",value:P,onChange:e=>A(e.target.value),required:!0,placeholder:"東京 / リモート"}),r.jsx(d.I,{label:"給与/待遇",value:E,onChange:e=>z(e.target.value),placeholder:"時給 1,500円 ~"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-[#1A202C] mb-1.5",children:"応募要件 / スキル (カンマ区切り)"}),r.jsx(d.I,{value:S,onChange:e=>Z(e.target.value),placeholder:"React, TypeScript, AWS"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-[#1A202C] mb-1.5",children:"仕事内容 (簡易版)"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-200 bg-white/50 px-3 py-2 text-sm ring-offset-white placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#1E3A5F] min-h-[100px]",value:q,onChange:e=>F(e.target.value),placeholder:"主な業務内容..."})]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-6 bg-gray-50/50",children:[r.jsx("label",{className:"block text-sm font-medium text-[#1E3A5F] mb-2",children:"募集要項PDF (詳細)"}),D?(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(f.Z,{className:"text-[#1E3A5F]"}),(0,r.jsxs)("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium truncate max-w-[200px]",children:D.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[(D.size/1024/1024).toFixed(2)," MB"]})]})]}),C?r.jsx(u.Z,{className:"animate-spin text-[#1E3A5F]"}):B?(0,r.jsxs)("div",{className:"flex items-center text-[#48BB78] gap-1 text-sm font-medium",children:[r.jsx(x.Z,{size:16}),"アップロード完了"]}):r.jsx("span",{className:"text-xs text-red-500",children:"未完了"})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[B?(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3 text-green-600",children:[r.jsx(x.Z,{size:16}),r.jsx("span",{className:"text-sm font-medium",children:"登録済みPDFあり"})]}):null,r.jsx(h.Z,{className:"text-gray-400 mb-2",size:32}),r.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"新しいファイルをアップロードして差し替え"}),r.jsx("input",{type:"file",accept:"application/pdf",onChange:R,className:"hidden",id:"pdf-upload"}),r.jsx(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("pdf-upload")?.click(),children:"ファイルを選択"})]})]}),(0,r.jsxs)("div",{className:"pt-4 flex justify-end gap-3",children:[r.jsx(o.z,{type:"button",variant:"secondary",onClick:()=>t.back(),children:"キャンセル"}),r.jsx(o.z,{type:"submit",isLoading:y||C,disabled:C,children:"更新する"})]})]})]})]})}},81606:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(97247),a=s(18305),i=s(222),n=s(55039),l=s(34178);let o=(0,s(9148).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=s(95389);function c({children:e}){let{user:t,firebaseUser:s,emailVerified:c,loading:m}=(0,i.a)(),u=(0,l.useRouter)(),p=!m&&t&&"company"===t.role&&s&&!c&&s.providerData.some(e=>"password"===e.providerId);return(0,r.jsxs)(a.Z,{children:[p&&(0,r.jsxs)("div",{className:"mb-6 bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(o,{className:"text-amber-600 flex-shrink-0",size:20}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-amber-800",children:"メールアドレスの確認が完了していません"}),r.jsx("p",{className:"text-xs text-amber-600",children:"確認メール内のリンクをクリックして認証を完了してください。一部の機能が制限されています。"})]})]}),(0,r.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>u.push("/verify-email"),className:"flex-shrink-0 gap-1",children:[r.jsx(d.Z,{size:14}),"確認ページへ"]})]}),e]})}},55039:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var r=s(97247),a=s(28964),i=s(40677),n=s(8749);let l=(0,a.forwardRef)(({className:e,variant:t="primary",size:s="md",isLoading:a,children:l,disabled:o,...d},c)=>(0,r.jsxs)("button",{ref:c,className:(0,i.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-[#1E3A5F]/50 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-gradient-to-r from-[#161B33] to-[#142841] text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 border border-white/10",secondary:"glass-button text-[#1E3A5F] bg-white/40 hover:bg-white/60",outline:"glass-button border border-[#1E3A5F]/30 text-[#1E3A5F] hover:bg-[#1E3A5F]/5",ghost:"text-[#1E3A5F] hover:bg-[#1E3A5F]/10",danger:"glass-button bg-gradient-to-r from-[#F56565] to-[#E53E3E] text-white border-0"}[t],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[s],e),disabled:o||a,...d,children:[a&&r.jsx(n.Z,{className:"mr-2 h-4 w-4 animate-spin"}),l]}));l.displayName="Button"},74633:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var r=s(97247),a=s(28964),i=s(40677);let n=(0,a.forwardRef)(({className:e,error:t,label:s,...a},n)=>(0,r.jsxs)("div",{className:"w-full",children:[s&&r.jsx("label",{className:"block text-sm font-medium text-[#1A202C] mb-1.5",children:s}),r.jsx("input",{ref:n,className:(0,i.cn)("flex h-10 w-full rounded-lg border border-gray-200 bg-white/50 px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#1E3A5F] disabled:cursor-not-allowed disabled:opacity-50 transition-all backdrop-blur-sm",t&&"border-[#F56565] focus-visible:ring-[#F56565]",e),...a}),t&&r.jsx("p",{className:"mt-1 text-sm text-[#F56565]",children:t})]}));n.displayName="Input"},19884:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(company)/company/jobs/[id]/edit/page.tsx#default`)},1360:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`/Users/kazuma/Documents/dev/intern/internship-matching/src/app/(company)/company/layout.tsx#default`)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[379,499,564,790,906,128,427,345],()=>s(57192));module.exports=r})();