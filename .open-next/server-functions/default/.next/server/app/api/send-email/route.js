"use strict";(()=>{var e={};e.id=499,e.ids=[499],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},85904:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{POST:()=>l});var o=t(73278),n=t(45002),a=t(54877),i=t(71309);let p=process.env.GAS_API_URL||"",u=process.env.GAS_API_KEY||"";async function l(e){try{let r;if(!p||!u)return console.error("GAS API Configuration missing"),i.NextResponse.json({error:"Server configuration error"},{status:500});let{to:t,subject:s,body:o}=await e.json();if(!t||!s||!o)return i.NextResponse.json({error:"Missing required fields"},{status:400});let n=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:u,action:"send_email",to:t,subject:s,body:o}),redirect:"follow"}),a=await n.text();if(a.trim().toLowerCase().startsWith("<!doctype")||a.trim().toLowerCase().startsWith("<html"))return console.error("[Email Send] GAS returned HTML"),i.NextResponse.json({error:"Email service error"},{status:500});try{r=JSON.parse(a)}catch{return console.error("[Email Send] Failed to parse response"),i.NextResponse.json({error:"Invalid response from email service"},{status:500})}if(r.error)return console.error("[Email Send] GAS Error:",r.error),i.NextResponse.json({error:r.error},{status:500});return i.NextResponse.json({success:!0})}catch(e){return console.error("[Email Send] API Error:",e.message),i.NextResponse.json({error:"Internal Server Error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/send-email/route",pathname:"/api/send-email",filename:"route",bundlePath:"app/api/send-email/route"},resolvedPagePath:"/Users/kazuma/Documents/dev/intern/internship-matching/src/app/api/send-email/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:h}=d,v="/api/send-email/route";function x(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[379,833],()=>t(85904));module.exports=s})();